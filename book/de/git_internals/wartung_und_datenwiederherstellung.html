<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Wartung und Datenwiederherstellung | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="jmatchett">
        <meta name="description" content="This is a GitBook version of the Scott Chacon&#39;s book: [Pro Git](https://github.com/progit/progit).">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../git_internals/zusammenfassung.html" />
        
        
        <link rel="prev" href="../git_internals/transfer_protokolle.html" />
        

        <meta property="og:title" content="Wartung und Datenwiederherstellung | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/jmatchett">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="jmatchett/git" data-level="9.7" data-basepath=".." data-revision="1398354154567">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/jmatchett/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/jmatchett/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/jmatchett/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/jmatchett" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/jmatchett/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/jmatchett/git/edit/master/git_internals/wartung_und_datenwiederherstellung.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="getting_started/README.html">
                
                <a href="../getting_started/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Getting Started
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="getting_started/wozu_versionskontrolle.html">
                            
                            <a href="../getting_started/wozu_versionskontrolle.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Wozu Versionskontrolle?
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="getting_started/die_geschichte_von_git.html">
                            
                            <a href="../getting_started/die_geschichte_von_git.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Die Geschichte von Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="getting_started/git_grundlagen.html">
                            
                            <a href="../getting_started/git_grundlagen.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Git Grundlagen
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="getting_started/git_installieren.html">
                            
                            <a href="../getting_started/git_installieren.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Git installieren
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="getting_started/git_konfigurieren.html">
                            
                            <a href="../getting_started/git_konfigurieren.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Git konfigurieren
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="getting_started/hilfe_finden.html">
                            
                            <a href="../getting_started/hilfe_finden.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> Hilfe finden
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="getting_started/zusammenfassung.html">
                            
                            <a href="../getting_started/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>1.7.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="git_basics/README.html">
                
                <a href="../git_basics/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Git Basics
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="git_basics/ein_git_repository_anlegen.html">
                            
                            <a href="../git_basics/ein_git_repository_anlegen.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Ein Git Repository anlegen
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="git_basics/anderungen_am_repository_nachverfolgen.html">
                            
                            <a href="../git_basics/anderungen_am_repository_nachverfolgen.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Ã„nderungen am Repository nachverfolgen
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="git_basics/die_commit_historie_anzeigen.html">
                            
                            <a href="../git_basics/die_commit_historie_anzeigen.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Die Commit Historie anzeigen
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="git_basics/anderungen_ruckgangig_machen.html">
                            
                            <a href="../git_basics/anderungen_ruckgangig_machen.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Ã„nderungen rÃ¼ckgÃ¤ngig machen
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="git_basics/mit_externen_repositorys_arbeiten.html">
                            
                            <a href="../git_basics/mit_externen_repositorys_arbeiten.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Mit externen Repositorys arbeiten
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="git_basics/tags.html">
                            
                            <a href="../git_basics/tags.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Tags
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="git_basics/tipps_und_tricks.html">
                            
                            <a href="../git_basics/tipps_und_tricks.html">
                                <i class="fa fa-check"></i> <b>2.7.</b> Tipps und Tricks
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="git_basics/zusammenfassung.html">
                            
                            <a href="../git_basics/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>2.8.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="git_branching/README.html">
                
                <a href="../git_branching/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Git Branching
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="git_branching/was_ist_ein_branch.html">
                            
                            <a href="../git_branching/was_ist_ein_branch.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Was ist ein Branch?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="git_branching/einfaches_branching_und_merging.html">
                            
                            <a href="../git_branching/einfaches_branching_und_merging.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Einfaches Branching und Merging
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="git_branching/branch_management.html">
                            
                            <a href="../git_branching/branch_management.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Branch Management
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="git_branching/branching_workflows.html">
                            
                            <a href="../git_branching/branching_workflows.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Branching Workflows
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="git_branching/externe_branches.html">
                            
                            <a href="../git_branching/externe_branches.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> Externe Branches
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="git_branching/rebasing.html">
                            
                            <a href="../git_branching/rebasing.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Rebasing
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="git_branching/zusammenfassung.html">
                            
                            <a href="../git_branching/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>3.7.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_on_the_server/README.html">
                
                <a href="../git_on_the_server/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> Git on the Server
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_on_the_server/die_protokolle.html">
                            
                            <a href="../git_on_the_server/die_protokolle.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Die Protokolle
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_on_the_server/git_auf_einen_server_bekommen.html">
                            
                            <a href="../git_on_the_server/git_auf_einen_server_bekommen.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Git auf einen Server bekommen
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_on_the_server/generiere_deinen_offentlichen_ssh_schlussel.html">
                            
                            <a href="../git_on_the_server/generiere_deinen_offentlichen_ssh_schlussel.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Generiere Deinen Ã¶ffentlichen SSH-SchlÃ¼ssel
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_on_the_server/einrichten_des_servers.html">
                            
                            <a href="../git_on_the_server/einrichten_des_servers.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Einrichten des Servers
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_on_the_server/offentlicher_zugang.html">
                            
                            <a href="../git_on_the_server/offentlicher_zugang.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Ã–ffentlicher Zugang
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_on_the_server/gitweb.html">
                            
                            <a href="../git_on_the_server/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6.</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_on_the_server/gitosis.html">
                            
                            <a href="../git_on_the_server/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7.</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_on_the_server/gitolite.html">
                            
                            <a href="../git_on_the_server/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.8.</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_on_the_server/git_daemon.html">
                            
                            <a href="../git_on_the_server/git_daemon.html">
                                <i class="fa fa-check"></i> <b>4.9.</b> Git Daemon
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_on_the_server/git_hosting.html">
                            
                            <a href="../git_on_the_server/git_hosting.html">
                                <i class="fa fa-check"></i> <b>4.10.</b> Git Hosting
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.11" data-path="git_on_the_server/einrichten_eines_benutzeraccounts.html">
                            
                            <a href="../git_on_the_server/einrichten_eines_benutzeraccounts.html">
                                <i class="fa fa-check"></i> <b>4.11.</b> Einrichten eines Benutzeraccounts
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.12" data-path="git_on_the_server/zusammenfassung.html">
                            
                            <a href="../git_on_the_server/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>4.12.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="distributed_git/README.html">
                
                <a href="../distributed_git/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> Distributed Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="distributed_git/distribuierte_workflows.html">
                            
                            <a href="../distributed_git/distribuierte_workflows.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Distribuierte Workflows
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="distributed_git/an_einem_projekt_mitarbeiten.html">
                            
                            <a href="../distributed_git/an_einem_projekt_mitarbeiten.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> An einem Projekt mitarbeiten
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="distributed_git/ein_projekt_betreiben.html">
                            
                            <a href="../distributed_git/ein_projekt_betreiben.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Ein Projekt betreiben
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="distributed_git/zusammenfassung.html">
                            
                            <a href="../distributed_git/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="git_tools/README.html">
                
                <a href="../git_tools/README.html">
                    <i class="fa fa-check"></i> <b>6.</b> Git Tools
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="git_tools/revision_auswahl.html">
                            
                            <a href="../git_tools/revision_auswahl.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Revision Auswahl
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="git_tools/interaktives_stagen.html">
                            
                            <a href="../git_tools/interaktives_stagen.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Interaktives Stagen
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="git_tools/stashen.html">
                            
                            <a href="../git_tools/stashen.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Stashen
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="git_tools/anderungshistorie_verandern.html">
                            
                            <a href="../git_tools/anderungshistorie_verandern.html">
                                <i class="fa fa-check"></i> <b>6.4.</b> Ã„nderungshistorie verÃ¤ndern
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="git_tools/mit_hilfe_von_git_debuggen.html">
                            
                            <a href="../git_tools/mit_hilfe_von_git_debuggen.html">
                                <i class="fa fa-check"></i> <b>6.5.</b> Mit Hilfe von Git debuggen
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="git_tools/submodule.html">
                            
                            <a href="../git_tools/submodule.html">
                                <i class="fa fa-check"></i> <b>6.6.</b> Submodule
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="git_tools/subtree_merging.html">
                            
                            <a href="../git_tools/subtree_merging.html">
                                <i class="fa fa-check"></i> <b>6.7.</b> Subtree Merging
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="git_tools/zusammenfassung.html">
                            
                            <a href="../git_tools/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>6.8.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="customizing_git/README.html">
                
                <a href="../customizing_git/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> Customizing Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="customizing_git/git_konfiguration.html">
                            
                            <a href="../customizing_git/git_konfiguration.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Git Konfiguration
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="customizing_git/git_attribute.html">
                            
                            <a href="../customizing_git/git_attribute.html">
                                <i class="fa fa-check"></i> <b>7.2.</b> Git Attribute
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="customizing_git/git_hooks.html">
                            
                            <a href="../customizing_git/git_hooks.html">
                                <i class="fa fa-check"></i> <b>7.3.</b> Git Hooks
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="customizing_git/beispiel_fur_die_durchsetzung_von_richtlinien_mit_hilfe_von_git.html">
                            
                            <a href="../customizing_git/beispiel_fur_die_durchsetzung_von_richtlinien_mit_hilfe_von_git.html">
                                <i class="fa fa-check"></i> <b>7.4.</b> Beispiel fÃ¼r die Durchsetzung von Richtlinien mit Hilfe von Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="customizing_git/zusammenfassung.html">
                            
                            <a href="../customizing_git/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>7.5.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_and_other_systems/README.html">
                
                <a href="../git_and_other_systems/README.html">
                    <i class="fa fa-check"></i> <b>8.</b> Git and Other Systems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_and_other_systems/git_und_subversion.html">
                            
                            <a href="../git_and_other_systems/git_und_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1.</b> Git und Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_and_other_systems/zu_git_umziehen.html">
                            
                            <a href="../git_and_other_systems/zu_git_umziehen.html">
                                <i class="fa fa-check"></i> <b>8.2.</b> Zu Git umziehen
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_and_other_systems/zusammenfassung.html">
                            
                            <a href="../git_and_other_systems/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>8.3.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="git_internals/README.html">
                
                <a href="../git_internals/README.html">
                    <i class="fa fa-check"></i> <b>9.</b> Git Internals
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="git_internals/plumbing_und_porcelain.html">
                            
                            <a href="../git_internals/plumbing_und_porcelain.html">
                                <i class="fa fa-check"></i> <b>9.1.</b> Plumbing und Porcelain
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="git_internals/git_objekte.html">
                            
                            <a href="../git_internals/git_objekte.html">
                                <i class="fa fa-check"></i> <b>9.2.</b> Git Objekte
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="git_internals/git_referenzen.html">
                            
                            <a href="../git_internals/git_referenzen.html">
                                <i class="fa fa-check"></i> <b>9.3.</b> Git-Referenzen
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="git_internals/pack_dateien.html">
                            
                            <a href="../git_internals/pack_dateien.html">
                                <i class="fa fa-check"></i> <b>9.4.</b> Pack-Dateien
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="git_internals/die_refspec.html">
                            
                            <a href="../git_internals/die_refspec.html">
                                <i class="fa fa-check"></i> <b>9.5.</b> Die Refspec
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="git_internals/transfer_protokolle.html">
                            
                            <a href="../git_internals/transfer_protokolle.html">
                                <i class="fa fa-check"></i> <b>9.6.</b> Transfer-Protokolle
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="git_internals/wartung_und_datenwiederherstellung.html">
                            
                            <a href="../git_internals/wartung_und_datenwiederherstellung.html">
                                <i class="fa fa-check"></i> <b>9.7.</b> Wartung und Datenwiederherstellung
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="git_internals/zusammenfassung.html">
                            
                            <a href="../git_internals/zusammenfassung.html">
                                <i class="fa fa-check"></i> <b>9.8.</b> Zusammenfassung
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 98.59154929577464%;min-width: 97.1830985915493%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../getting_started/README.html" title="Getting Started" class="chapter done new-chapter" data-progress="1" style="left: 1.408450704225352%;"></a>
    
        <a href="../getting_started/wozu_versionskontrolle.html" title="Wozu Versionskontrolle?" class="chapter done " data-progress="1.1" style="left: 2.816901408450704%;"></a>
    
        <a href="../getting_started/die_geschichte_von_git.html" title="Die Geschichte von Git" class="chapter done " data-progress="1.2" style="left: 4.225352112676056%;"></a>
    
        <a href="../getting_started/git_grundlagen.html" title="Git Grundlagen" class="chapter done " data-progress="1.3" style="left: 5.633802816901408%;"></a>
    
        <a href="../getting_started/git_installieren.html" title="Git installieren" class="chapter done " data-progress="1.4" style="left: 7.042253521126761%;"></a>
    
        <a href="../getting_started/git_konfigurieren.html" title="Git konfigurieren" class="chapter done " data-progress="1.5" style="left: 8.450704225352112%;"></a>
    
        <a href="../getting_started/hilfe_finden.html" title="Hilfe finden" class="chapter done " data-progress="1.6" style="left: 9.859154929577464%;"></a>
    
        <a href="../getting_started/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="1.7" style="left: 11.267605633802816%;"></a>
    
        <a href="../git_basics/README.html" title="Git Basics" class="chapter done new-chapter" data-progress="2" style="left: 12.67605633802817%;"></a>
    
        <a href="../git_basics/ein_git_repository_anlegen.html" title="Ein Git Repository anlegen" class="chapter done " data-progress="2.1" style="left: 14.084507042253522%;"></a>
    
        <a href="../git_basics/anderungen_am_repository_nachverfolgen.html" title="Ã„nderungen am Repository nachverfolgen" class="chapter done " data-progress="2.2" style="left: 15.492957746478874%;"></a>
    
        <a href="../git_basics/die_commit_historie_anzeigen.html" title="Die Commit Historie anzeigen" class="chapter done " data-progress="2.3" style="left: 16.901408450704224%;"></a>
    
        <a href="../git_basics/anderungen_ruckgangig_machen.html" title="Ã„nderungen rÃ¼ckgÃ¤ngig machen" class="chapter done " data-progress="2.4" style="left: 18.309859154929576%;"></a>
    
        <a href="../git_basics/mit_externen_repositorys_arbeiten.html" title="Mit externen Repositorys arbeiten" class="chapter done " data-progress="2.5" style="left: 19.718309859154928%;"></a>
    
        <a href="../git_basics/tags.html" title="Tags" class="chapter done " data-progress="2.6" style="left: 21.12676056338028%;"></a>
    
        <a href="../git_basics/tipps_und_tricks.html" title="Tipps und Tricks" class="chapter done " data-progress="2.7" style="left: 22.535211267605632%;"></a>
    
        <a href="../git_basics/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="2.8" style="left: 23.943661971830984%;"></a>
    
        <a href="../git_branching/README.html" title="Git Branching" class="chapter done new-chapter" data-progress="3" style="left: 25.35211267605634%;"></a>
    
        <a href="../git_branching/was_ist_ein_branch.html" title="Was ist ein Branch?" class="chapter done " data-progress="3.1" style="left: 26.760563380281692%;"></a>
    
        <a href="../git_branching/einfaches_branching_und_merging.html" title="Einfaches Branching und Merging" class="chapter done " data-progress="3.2" style="left: 28.169014084507044%;"></a>
    
        <a href="../git_branching/branch_management.html" title="Branch Management" class="chapter done " data-progress="3.3" style="left: 29.577464788732396%;"></a>
    
        <a href="../git_branching/branching_workflows.html" title="Branching Workflows" class="chapter done " data-progress="3.4" style="left: 30.985915492957748%;"></a>
    
        <a href="../git_branching/externe_branches.html" title="Externe Branches" class="chapter done " data-progress="3.5" style="left: 32.394366197183096%;"></a>
    
        <a href="../git_branching/rebasing.html" title="Rebasing" class="chapter done " data-progress="3.6" style="left: 33.80281690140845%;"></a>
    
        <a href="../git_branching/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="3.7" style="left: 35.2112676056338%;"></a>
    
        <a href="../git_on_the_server/README.html" title="Git on the Server" class="chapter done new-chapter" data-progress="4" style="left: 36.61971830985915%;"></a>
    
        <a href="../git_on_the_server/die_protokolle.html" title="Die Protokolle" class="chapter done " data-progress="4.1" style="left: 38.028169014084504%;"></a>
    
        <a href="../git_on_the_server/git_hosting.html" title="Git Hosting" class="chapter done " data-progress="4.10" style="left: 39.436619718309856%;"></a>
    
        <a href="../git_on_the_server/einrichten_eines_benutzeraccounts.html" title="Einrichten eines Benutzeraccounts" class="chapter done " data-progress="4.11" style="left: 40.84507042253521%;"></a>
    
        <a href="../git_on_the_server/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="4.12" style="left: 42.25352112676056%;"></a>
    
        <a href="../git_on_the_server/git_auf_einen_server_bekommen.html" title="Git auf einen Server bekommen" class="chapter done " data-progress="4.2" style="left: 43.66197183098591%;"></a>
    
        <a href="../git_on_the_server/generiere_deinen_offentlichen_ssh_schlussel.html" title="Generiere Deinen Ã¶ffentlichen SSH-SchlÃ¼ssel" class="chapter done " data-progress="4.3" style="left: 45.070422535211264%;"></a>
    
        <a href="../git_on_the_server/einrichten_des_servers.html" title="Einrichten des Servers" class="chapter done " data-progress="4.4" style="left: 46.478873239436616%;"></a>
    
        <a href="../git_on_the_server/offentlicher_zugang.html" title="Ã–ffentlicher Zugang" class="chapter done " data-progress="4.5" style="left: 47.88732394366197%;"></a>
    
        <a href="../git_on_the_server/gitweb.html" title="GitWeb" class="chapter done " data-progress="4.6" style="left: 49.29577464788732%;"></a>
    
        <a href="../git_on_the_server/gitosis.html" title="Gitosis" class="chapter done " data-progress="4.7" style="left: 50.70422535211268%;"></a>
    
        <a href="../git_on_the_server/gitolite.html" title="Gitolite" class="chapter done " data-progress="4.8" style="left: 52.11267605633803%;"></a>
    
        <a href="../git_on_the_server/git_daemon.html" title="Git Daemon" class="chapter done " data-progress="4.9" style="left: 53.521126760563384%;"></a>
    
        <a href="../distributed_git/README.html" title="Distributed Git" class="chapter done new-chapter" data-progress="5" style="left: 54.929577464788736%;"></a>
    
        <a href="../distributed_git/distribuierte_workflows.html" title="Distribuierte Workflows" class="chapter done " data-progress="5.1" style="left: 56.33802816901409%;"></a>
    
        <a href="../distributed_git/an_einem_projekt_mitarbeiten.html" title="An einem Projekt mitarbeiten" class="chapter done " data-progress="5.2" style="left: 57.74647887323944%;"></a>
    
        <a href="../distributed_git/ein_projekt_betreiben.html" title="Ein Projekt betreiben" class="chapter done " data-progress="5.3" style="left: 59.15492957746479%;"></a>
    
        <a href="../distributed_git/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="5.4" style="left: 60.563380281690144%;"></a>
    
        <a href="../git_tools/README.html" title="Git Tools" class="chapter done new-chapter" data-progress="6" style="left: 61.971830985915496%;"></a>
    
        <a href="../git_tools/revision_auswahl.html" title="Revision Auswahl" class="chapter done " data-progress="6.1" style="left: 63.38028169014085%;"></a>
    
        <a href="../git_tools/interaktives_stagen.html" title="Interaktives Stagen" class="chapter done " data-progress="6.2" style="left: 64.78873239436619%;"></a>
    
        <a href="../git_tools/stashen.html" title="Stashen" class="chapter done " data-progress="6.3" style="left: 66.19718309859155%;"></a>
    
        <a href="../git_tools/anderungshistorie_verandern.html" title="Ã„nderungshistorie verÃ¤ndern" class="chapter done " data-progress="6.4" style="left: 67.6056338028169%;"></a>
    
        <a href="../git_tools/mit_hilfe_von_git_debuggen.html" title="Mit Hilfe von Git debuggen" class="chapter done " data-progress="6.5" style="left: 69.01408450704226%;"></a>
    
        <a href="../git_tools/submodule.html" title="Submodule" class="chapter done " data-progress="6.6" style="left: 70.4225352112676%;"></a>
    
        <a href="../git_tools/subtree_merging.html" title="Subtree Merging" class="chapter done " data-progress="6.7" style="left: 71.83098591549296%;"></a>
    
        <a href="../git_tools/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="6.8" style="left: 73.2394366197183%;"></a>
    
        <a href="../customizing_git/README.html" title="Customizing Git" class="chapter done new-chapter" data-progress="7" style="left: 74.64788732394366%;"></a>
    
        <a href="../customizing_git/git_konfiguration.html" title="Git Konfiguration" class="chapter done " data-progress="7.1" style="left: 76.05633802816901%;"></a>
    
        <a href="../customizing_git/git_attribute.html" title="Git Attribute" class="chapter done " data-progress="7.2" style="left: 77.46478873239437%;"></a>
    
        <a href="../customizing_git/git_hooks.html" title="Git Hooks" class="chapter done " data-progress="7.3" style="left: 78.87323943661971%;"></a>
    
        <a href="../customizing_git/beispiel_fur_die_durchsetzung_von_richtlinien_mit_hilfe_von_git.html" title="Beispiel fÃ¼r die Durchsetzung von Richtlinien mit Hilfe von Git" class="chapter done " data-progress="7.4" style="left: 80.28169014084507%;"></a>
    
        <a href="../customizing_git/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="7.5" style="left: 81.69014084507042%;"></a>
    
        <a href="../git_and_other_systems/README.html" title="Git and Other Systems" class="chapter done new-chapter" data-progress="8" style="left: 83.09859154929578%;"></a>
    
        <a href="../git_and_other_systems/git_und_subversion.html" title="Git und Subversion" class="chapter done " data-progress="8.1" style="left: 84.50704225352112%;"></a>
    
        <a href="../git_and_other_systems/zu_git_umziehen.html" title="Zu Git umziehen" class="chapter done " data-progress="8.2" style="left: 85.91549295774648%;"></a>
    
        <a href="../git_and_other_systems/zusammenfassung.html" title="Zusammenfassung" class="chapter done " data-progress="8.3" style="left: 87.32394366197182%;"></a>
    
        <a href="../git_internals/README.html" title="Git Internals" class="chapter done new-chapter" data-progress="9" style="left: 88.73239436619718%;"></a>
    
        <a href="../git_internals/plumbing_und_porcelain.html" title="Plumbing und Porcelain" class="chapter done " data-progress="9.1" style="left: 90.14084507042253%;"></a>
    
        <a href="../git_internals/git_objekte.html" title="Git Objekte" class="chapter done " data-progress="9.2" style="left: 91.54929577464789%;"></a>
    
        <a href="../git_internals/git_referenzen.html" title="Git-Referenzen" class="chapter done " data-progress="9.3" style="left: 92.95774647887323%;"></a>
    
        <a href="../git_internals/pack_dateien.html" title="Pack-Dateien" class="chapter done " data-progress="9.4" style="left: 94.36619718309859%;"></a>
    
        <a href="../git_internals/die_refspec.html" title="Die Refspec" class="chapter done " data-progress="9.5" style="left: 95.77464788732394%;"></a>
    
        <a href="../git_internals/transfer_protokolle.html" title="Transfer-Protokolle" class="chapter done " data-progress="9.6" style="left: 97.1830985915493%;"></a>
    
        <a href="../git_internals/wartung_und_datenwiederherstellung.html" title="Wartung und Datenwiederherstellung" class="chapter done " data-progress="9.7" style="left: 98.59154929577464%;"></a>
    
        <a href="../git_internals/zusammenfassung.html" title="Zusammenfassung" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_933">
                    
                        <h1 id="wartung-und-datenwiederherstellung">Wartung und Datenwiederherstellung</h1>
<!--Occasionally, you may have to do some cleanup â€” make a repository more compact, clean up an imported repository, or recover lost work. This section will cover some of these scenarios.-->

<p>Gelegentlich will man ein bisschen aufrÃ¤umen â€“ ein Repository komprimieren, ein importiertes Repository aufrÃ¤umen oder verloren gegangene Daten wiederherstellen. Dieses Kapitel wird sich mit einigen derartigen Szenarien befassen.</p>
<!--## Maintenance-->
## Wartung

<!--Occasionally, Git automatically runs a command called "auto gc". Most of the time, this command does nothing. However, if there are too many loose objects (objects not in a packfile) or too many packfiles, Git launches a full-fledged `git gc` command. The `gc` stands for garbage collect, and the command does a number of things: it gathers up all the loose objects and places them in packfiles, it consolidates packfiles into one big packfile, and it removes objects that arenâ€™t reachable from any commit and are a few months old.-->

<p>Git fÃ¼hrt den Befehl <code>auto gc</code> hin und wieder automatisch aus. In den meisten FÃ¤llen tut dieser Befehl nichts. Wenn allerdings zu viele lose Objekte (d.h. Objekte, die nicht in einem Packfile gepackt sind) oder zu viele einzelne Packfiles vorhanden sind, fÃ¼hrt Git den Befehl <code>git gc</code> aus. <code>gc</code> steht fÃ¼r â€žGarbage Collectionâ€œ. Dieser Befehl fÃ¼hrt eine Reihe von Aufgaben durch: er sammelt die losen Objekte und packt sie in ein Packfile, er fÃ¼hrt einzelne Packfiles zu einem einzigen, groÃŸen Packfile zusammen, und er entfernt Objekte, die mit keinem Commit erreichbar und einige Monate alt sind.</p>
<!--You can run auto gc manually as follows:-->

<p>Du kannst <code>auto gc</code> wie folgt manuell ausfÃ¼hren:</p>
<pre><code>$ git gc --auto
</code></pre><!--Again, this generally does nothing. You must have around 7,000 loose objects or more than 50 packfiles for Git to fire up a real gc command. You can modify these limits with the `gc.auto` and `gc.autopacklimit` config settings, respectively.-->

<p>Wie schon erwÃ¤hnt tut dies normalerweise gar nichts. Es mÃ¼ssen sich etwa 7.000 lose Objekte oder mehr als 50 Packfiles angesammelt haben, bevor Git tatsÃ¤chlich den echten gc-Befehl startet. Du kannst diese Werte mit Hilfe der Konfigurationsvariablen <code>gc.auto</code> bzw. <code>gc.autopacklimit</code> manuell setzen.</p>
<!--The other thing `gc` will do is pack up your references into a single file. Suppose your repository contains the following branches and tags:-->

<p><code>gc</code> packt auÃŸerdem Referenzen in eine einzige Datei zusammen. Nehmen wir an, Dein Repository enthÃ¤lt die folgenden Branches und Tags:</p>
<pre><code>$ find .git/refs -type f
.git/refs/heads/experiment
.git/refs/heads/master
.git/refs/tags/v1.0
.git/refs/tags/v1.1
</code></pre><!--If you run `git gc`, youâ€™ll no longer have these files in the `refs` directory. Git will move them for the sake of efficiency into a file named `.git/packed-refs` that looks like this:-->

<p>Nachdem Du <code>git gc</code> ausgefÃ¼hrt hast, werden diese Dateien um der Effizienz willen aus dem Verzeichnis <code>refs</code> entfernt und in eine Datei <code>.git/packed-refs</code> verschoben, die dann wie folgt aussieht:</p>
<pre><code>$ cat .git/packed-refs
# pack-refs with: peeled
cac0cab538b970a37ea1e769cbbde608743bc96d refs/heads/experiment
ab1afef80fac8e34258ff41fc1b867c702daa24b refs/heads/master
cac0cab538b970a37ea1e769cbbde608743bc96d refs/tags/v1.0
9585191f37f7b0fb9444f35a9bf50de191beadc2 refs/tags/v1.1
^1a410efbd13591db07496601ebc7a059dd55cfe9
</code></pre><!--If you update a reference, Git doesnâ€™t edit this file but instead writes a new file to `refs/heads`. To get the appropriate SHA for a given reference, Git checks for that reference in the `refs` directory and then checks the `packed-refs` file as a fallback. However, if you canâ€™t find a reference in the `refs` directory, itâ€™s probably in your `packed-refs` file.-->

<p>Wenn Du eine Referenz bearbeitest, lÃ¤sst Git diese Datei unverÃ¤ndert und schreibt stattdessen eine neue Datei nach <code>refs/heads</code>. Um eine SHA-PrÃ¼fsumme fÃ¼r eine Referenz nachzuschlagen, schaut Git zunÃ¤chst im Verzeichnis <code>refs</code> und danach erst in der Datei <code>packed-refs</code> nach, falls nÃ¶tig. Wenn eine Referenz also nicht im Verzeichnis <code>refs</code> liegt, befindet sie sich wahrscheinlich in der Datei <code>packed-refs</code>.</p>
<!--Notice the last line of the file, which begins with a `^`. This means the tag directly above is an annotated tag and that line is the commit that the annotated tag points to.-->

<p>Beachte, dass die letzte Zeile der Datei mit <code>^</code> anfÃ¤ngt. Das bedeutet, dass der Tag darÃ¼ber ein annotierter Tag ist und diese Zeile zeigt den Commit, auf den der annotierte Tag zeigt.</p>
<!--## Data Recovery-->
## Daten-Wiederherstellung

<!--At some point in your Git journey, you may accidentally lose a commit. Generally, this happens because you force-delete a branch that had work on it, and it turns out you wanted the branch after all; or you hard-reset a branch, thus abandoning commits that you wanted something from. Assuming this happens, how can you get your commits back?-->

<p>Irgendwann wird es vielleicht mal vorkommen, dass Du wÃ¤hrend der Arbeit mit Git einen Commit verlierst. Normalerweise passiert das, wenn Du versehentlich einen Branch lÃ¶schst, an dem Du gearbeitet hattest und den Du noch brauchst. Oder Du fÃ¼hrst <code>git reset --hard</code> aus und stellst fest, dass Du einige der Commits noch brauchst. Nehmen wir an, Du steckst in einer solchen Situation â€“ wie kannst Du Deine Commits dann wiederherstellen?</p>
<!--Hereâ€™s an example that hard-resets the master branch in your test repository to an older commit and then recovers the lost commits. First, letâ€™s review where your repository is at this point:-->

<p>Das folgende Beispiel setzt zuerst den Branch <code>master</code> auf einen Ã¤lteren Commit zurÃ¼ck und stellt die verlorenen Commits dann wieder her. ZunÃ¤chst schauen wir uns den gegenwÃ¤rtigen Zustand des Repositorys an:</p>
<pre><code>$ git log --pretty=oneline
ab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit
484a59275031909e19aadb7c92262719cfcdf19a added repo.rb
1a410efbd13591db07496601ebc7a059dd55cfe9 third commit
cac0cab538b970a37ea1e769cbbde608743bc96d second commit
fdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit
</code></pre><!--Now, move the `master` branch back to the middle commit:-->

<p>Jetzt setzen wir den Branch <code>master</code> auf den mittleren Commit zurÃ¼ck:</p>
<pre><code>$ git reset --hard 1a410efbd13591db07496601ebc7a059dd55cfe9
HEAD is now at 1a410ef third commit
$ git log --pretty=oneline
1a410efbd13591db07496601ebc7a059dd55cfe9 third commit
cac0cab538b970a37ea1e769cbbde608743bc96d second commit
fdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit
</code></pre><!--Youâ€™ve effectively lost the top two commits â€” you have no branch from which those commits are reachable. You need to find the latest commit SHA and then add a branch that points to it. The trick is finding that latest commit SHA â€” itâ€™s not like youâ€™ve memorized it, right?-->

<p>Du hast damit die oberen beiden Commits verloren, d.h. es gibt keinen Branch mehr, von dem aus diese Commits erreichbar wÃ¤ren. Um sie wiederherzustellen, kannst Du einen neuen Branch anlegen, der auf den SHA-Hash des obersten (letzten) Commits zeigt. Der Trick besteht darin, diesen letzten Commit-Hash herauszufinden. Es ist ja nicht so, dass Du Dir jederzeit all die Hashes merken kÃ¶nntest, oder?</p>
<!--Often, the quickest way is to use a tool called `git reflog`. As youâ€™re working, Git silently records what your HEAD is every time you change it. Each time you commit or change branches, the reflog is updated. The reflog is also updated by the `git update-ref` command, which is another reason to use it instead of just writing the SHA value to your ref files, as we covered in the "Git References" section of this chapter earlier.  You can see where youâ€™ve been at any time by running `git reflog`:-->

<p>In der Regel ist der schnellste Weg, solche Hashes zu finden, der Befehl <code>git reflog</code>. WÃ¤hrend Du mit Git arbeitest, macht Git im Stillen fortlaufende Notizen darÃ¼ber, was HEAD ist. Jedes Mal, wenn Du einen Commit anlegst oder den Branch wechselst, wird das â€žReflogâ€œ aktualisiert. Das Reflog wird auÃŸerdem vom Befehl <code>git update-ref</code> verwendet â€“ ein weiterer guter Grund, nicht stattdessen einfach den SHA-Wert in eine Referenz-Datei zu schreiben (wie wir das in der Sektion â€žGit-Referenzenâ€œ zuvor in diesem Kapitel besprochen haben). Du kannst also jederzeit nachschlagen, woran Du jeweils gearbeitet hast, indem Du den Befehl <code>git reflog</code> verwendest:</p>
<pre><code>$ git reflog
1a410ef HEAD@{0}: 1a410efbd13591db07496601ebc7a059dd55cfe9: updating HEAD
ab1afef HEAD@{1}: ab1afef80fac8e34258ff41fc1b867c702daa24b: updating HEAD
</code></pre><!--Here we can see the two commits that we have had checked out, however there is not much information here.  To see the same information in a much more useful way, we can run `git log -g`, which will give you a normal log output for your reflog.-->

<p>Das zeigt also die beiden verloren gegangenen Commits an, die wir zuvor ausgecheckt hatten. Allerdings zeigt es auch nicht viel mehr Information. Um das Reflog in einer anderen, etwas nÃ¼tzlicheren Weise anzuzeigen, kannst Du <code>git log -g</code> verwenden. Das gibt das Reflog im gewohnten Log-Format aus:</p>
<pre><code>$ git log -g
commit 1a410efbd13591db07496601ebc7a059dd55cfe9
Reflog: HEAD@{0} (Scott Chacon &lt;schacon@gmail.com&gt;)
Reflog message: updating HEAD
Author: Scott Chacon &lt;schacon@gmail.com&gt;
Date:   Fri May 22 18:22:37 2009 -0700

    third commit

commit ab1afef80fac8e34258ff41fc1b867c702daa24b
Reflog: HEAD@{1} (Scott Chacon &lt;schacon@gmail.com&gt;)
Reflog message: updating HEAD
Author: Scott Chacon &lt;schacon@gmail.com&gt;
Date:   Fri May 22 18:15:24 2009 -0700

     modified repo a bit
</code></pre><!--It looks like the bottom commit is the one you lost, so you can recover it by creating a new branch at that commit. For example, you can start a branch named `recover-branch` at that commit (ab1afef):-->

<p>Es sieht also so aus, als sei der untere Commit derjenige, den Du verloren hast, aber noch brauchst. Du kannst ihn jetzt wiederherstellen, indem Du einen neuen Branch erstellst, der auf diesen Commit zeigt. Beispielsweise kannst Du einen Branch <code>recover-branch</code> anlegen, der auf den Commit <code>ab1afef</code> zeigt:</p>
<pre><code>$ git branch recover-branch ab1afef
$ git log --pretty=oneline recover-branch
ab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit
484a59275031909e19aadb7c92262719cfcdf19a added repo.rb
1a410efbd13591db07496601ebc7a059dd55cfe9 third commit
cac0cab538b970a37ea1e769cbbde608743bc96d second commit
fdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit
</code></pre><!--Cool â€” now you have a branch named `recover-branch` that is where your `master` branch used to be, making the first two commits reachable again.-->
<!--Next, suppose your loss was for some reason not in the reflog â€” you can simulate that by removing `recover-branch` and deleting the reflog. Now the first two commits arenâ€™t reachable by anything:-->

<p>Sehr gut. Du hast jetzt einen neuen Branch <code>recover-branch</code>, der diejenigen Commits enthÃ¤lt, die sich zuvor in Deinem Branch <code>master</code> befanden. Damit hast Du wieder Zugriff auf die beiden verloren gegangenen Commits. Als nÃ¤chstes nehmen wir aber auÃŸerdem an, dass diese verlorenen Commits aus irgendeinem Grunde nicht im Reflog enthalten sind â€“ Du kannst das z.B. simulieren, indem Du den Branch <code>recover-branch</code> und das Reflog lÃ¶schst. Damit sind die beiden Commits jetzt von nirgendwo her mehr erreichbar:</p>
<pre><code>$ git branch -D recover-branch
$ rm -Rf .git/logs/
</code></pre><!--Because the reflog data is kept in the `.git/logs/` directory, you effectively have no reflog. How can you recover that commit at this point? One way is to use the `git fsck` utility, which checks your database for integrity. If you run it with the `-\-full` option, it shows you all objects that arenâ€™t pointed to by another object:-->

<p>Das Reflog wird im Verzeichnis <code>.git/logs/</code> aufbewahrt, d.h. Du hast nun faktisch kein Reflog mehr. Wie kann man einen Commit jetzt noch wiederherstellen? Eine MÃ¶glichkeit dazu ist der Befehl <code>git fsck</code>, der die IntegritÃ¤t der Git-Datenbank prÃ¼ft. Wenn Du den Befehl mit der Option <code>--full</code> ausfÃ¼hrst, zeigt er alle Objekte an, auf die nicht von einem anderen Objekt verwiesen wird:</p>
<pre><code>$ git fsck --full
dangling blob d670460b4b4aece5915caf5c68d12f560a9fe3e4
dangling commit ab1afef80fac8e34258ff41fc1b867c702daa24b
dangling tree aea790b9a58f6cf6f2804eeac9f0abbe9631e4c9
dangling blob 7108f7ecb345ee9d0084193f147cdad4d2998293
</code></pre><!--In this case, you can see your missing commit after the dangling commit. You can recover it the same way, by adding a branch that points to that SHA.-->

<p>In diesem Fall findest Du den verlorenen Commit nach den Worten â€ždangling commitâ€œ. Du kannst ihn dann auf dieselbe Weise wiederherstellen wie zuvor, indem Du einen Branch erstellst, der auf diesen Commit-Hash zeigt.</p>
<!--## Removing Objects-->
## Objekte entfernen

<!--There are a lot of great things about Git, but one feature that can cause issues is the fact that a `git clone` downloads the entire history of the project, including every version of every file. This is fine if the whole thing is source code, because Git is highly optimized to compress that data efficiently. However, if someone at any point in the history of your project added a single huge file, every clone for all time will be forced to download that large file, even if it was removed from the project in the very next commit. Because itâ€™s reachable from the history, it will always be there.-->

<p>Git ist in vielerlei Hinsicht unschlagbar, aber es gibt auch Features, die Probleme verursachen kÃ¶nnen. Ein solches Problem kann darin bestehen, dass <code>git clone</code> die vollstÃ¤ndige Historie eines Projektes herunterlÃ¤dt, d.h. jede einzelne Version jeder einzelnen Datei. Das ist eine feine Sache, solange es sich um Quellcode handelt, denn Git ist darauf optimiert, diese Art von Daten effizient zu komprimieren. Wenn allerdings irgendwann einmal eine einzelne, sehr groÃŸe Datei zur Versionskontrolle hinzugefÃ¼gt wurde, wird jeder Clone dieses Repositorys diese Datei gezwungenermaÃŸen herunterladen mÃ¼ssen â€“ auch dann, wenn die Datei inzwischen aus dem Repository entfernt wÃ¼rde. Weil sie Ã¼ber die Historie erreichbar ist, muss die Datei vorhanden sein.</p>
<!--This can be a huge problem when youâ€™re converting Subversion or Perforce repositories into Git. Because you donâ€™t download the whole history in those systems, this type of addition carries few consequences. If you did an import from another system or otherwise find that your repository is much larger than it should be, here is how you can find and remove large objects.-->

<p>Hierin kann ein groÃŸes Problem bestehen, wenn Du Subversion- oder Perforce-Repositorys nach Git konvertierst. Weil Du in diesen Systemen nicht die gesamte Historie herunterlÃ¤dst, kann diese Art von HinzufÃ¼gung einige unangenehme Konsequenzen haben. Wenn Du Dein Repository aus einem anderen System importiert hast oder aus irgendeinem anderen Grunde findest, dass es sehr viel grÃ¶ÃŸer ist, als es eigentlich sein sollte, kannst Du groÃŸe Objekte wie folgt suchen und entfernen.</p>
<!--Be warned: this technique is destructive to your commit history. It rewrites every commit object downstream from the earliest tree you have to modify to remove a large file reference. If you do this immediately after an import, before anyone has started to base work on the commit, youâ€™re fine â€” otherwise, you have to notify all contributors that they must rebase their work onto your new commits.-->

<p>Sei Dir allerdings bewusst, dass diese Technik die Commit-Historie zerstÃ¶rt. Sie schreibt angefangen beim ursprÃ¼nglichen Tree jedes einzelne Commit-Objekt neu, um die jeweilige, groÃŸe Datei zu entfernen. Wenn Du das direkt nach einem Import tust, d.h. bevor jemand angefangen hat, auf der Basis eines Commits zu arbeiten, ist das in Ordnung â€“ andernfalls mÃ¼ssen alle Mitarbeiter ihre Arbeit auf Deinen Commit rebasen.</p>
<!--To demonstrate, youâ€™ll add a large file into your test repository, remove it in the next commit, find it, and remove it permanently from the repository. First, add a large object to your history:-->

<p>Um das zu demonstrieren, werden wir eine groÃŸe Datei zu Deinem Test-Repository hinzufÃ¼gen, sie dann im nÃ¤chsten Commit lÃ¶schen, in der Datenbank nachschlagen und sie schlieÃŸlich dauerhaft aus dem Repository entfernen. Als erstes checke also eine groÃŸe Datei in Dein Repository ein:</p>
<pre><code>$ curl http://kernel.org/pub/software/scm/git/git-1.6.3.1.tar.bz2 &gt; git.tbz2
$ git add git.tbz2
$ git commit -am &#39;added git tarball&#39;
[master 6df7640] added git tarball
 1 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 git.tbz2
</code></pre><!--Oops â€” you didnâ€™t want to add a huge tarball to your project. Better get rid of it:-->

<p>Oha. Du wolltest keinen dermaÃŸen groÃŸen Tarball in Deinem Projekt. Am besten lÃ¶schen wir es gleich wieder:</p>
<pre><code>$ git rm git.tbz2
rm &#39;git.tbz2&#39;
$ git commit -m &#39;oops - removed large tarball&#39;
[master da3f30d] oops - removed large tarball
 1 files changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 git.tbz2
</code></pre><!--Now, `gc` your database and see how much space youâ€™re using:-->

<p>Jetzt lassen wir die Garbage-Collection Ã¼ber die Datenbank laufen und sehen, wieviel Platz sie braucht:</p>
<pre><code>$ git gc
Counting objects: 21, done.
Delta compression using 2 threads.
Compressing objects: 100% (16/16), done.
Writing objects: 100% (21/21), done.
Total 21 (delta 3), reused 15 (delta 1)
</code></pre><!--You can run the `count-objects` command to quickly see how much space youâ€™re using:-->

<p>Du kannst auch den Befehl <code>count-objects</code> laufen lassen, um einen schnellen Ãœberblick darÃ¼ber zu erhalten, wieviel Platz das Repository einnimmt:</p>
<pre><code>$ git count-objects -v
count: 4
size: 16
in-pack: 21
packs: 1
size-pack: 2016
prune-packable: 0
garbage: 0
</code></pre><!--The `size-pack` entry is the size of your packfiles in kilobytes, so youâ€™re using 2MB. Before the last commit, you were using closer to 2K â€” clearly, removing the file from the previous commit didnâ€™t remove it from your history. Every time anyone clones this repository, they will have to clone all 2MB just to get this tiny project, because you accidentally added a big file. Letâ€™s get rid of it.-->

<p>Der <code>size-pack</code>-Eintrag zeigt die GrÃ¶ÃŸe der Packfiles in Kilobytes an, d.h. Dein Repository braucht 2 MB. Vor dem letzten Commit lag dieser Wert eher bei 2 KB. D.h., die Datei wurde im letzten Commit eindeutig nicht aus der History entfernt. Jedes Mal, wenn jemand kÃ¼nftig dieses sehr kleine Repository klont, wird er die 2 MB mit herunterladen mÃ¼ssen â€“ nur weil wir versehentlich diese groÃŸe Datei hinzugefÃ¼gt hatten. Also versuchen wir, sie endgÃ¼ltig loszuwerden.</p>
<!--First you have to find it. In this case, you already know what file it is. But suppose you didnâ€™t; how would you identify what file or files were taking up so much space? If you run `git gc`, all the objects are in a packfile; you can identify the big objects by running another plumbing command called `git verify-pack` and sorting on the third field in the output, which is file size. You can also pipe it through the `tail` command because youâ€™re only interested in the last few largest files:-->

<p>ZunÃ¤chst mal mÃ¼ssen wir sie finden. In diesem Fall wissen wir bereits, um welche Datei es sich handelt. Aber nehmen wir an, wir wÃ¼ssten es nicht. Wie wÃ¼rdest Du herausfinden, welche Datei (oder welche Dateien) so viel Platz verbrauchen? Wenn Du <code>git gc</code> laufen gelassen hast, werden sich alle Objekte in einem Packfile befinden. Du kannst dann groÃŸe Objekte identifizieren, indem Du einen weiteren Plumbing-Befehl, nÃ¤mlich <code>git verify-pack</code> ausfÃ¼hrst und nach dem dritten Feld der Ausgabe sortierst, d.h. der DateigrÃ¶ÃŸe. Du kannst sie auÃŸerdem durch den <code>tail</code> Befehl leiten, denn Du bist ja nur an den wenigen grÃ¶ÃŸten Objekten interessiert:</p>
<pre><code>$ git verify-pack -v .git/objects/pack/pack-3f8c0...bb.idx | sort -k 3 -n | tail -3
e3f094f522629ae358806b17daf78246c27c007b blob   1486 734 4667
05408d195263d853f09dca71d55116663690c27c blob   12908 3478 1189
7a9eb2fba2b1811321254ac360970fc169ba2330 blob   2056716 2056872 5401
</code></pre><!--The big object is at the bottom: 2MB. To find out what file it is, youâ€™ll use the `rev-list` command, which you used briefly in Chapter 7. If you pass `-\-objects` to `rev-list`, it lists all the commit SHAs and also the blob SHAs with the file paths associated with them. You can use this to find your blobâ€™s name:-->

<p>Das grÃ¶ÃŸte Objekt ist ganz klar das letzte: es ist 2 MB groÃŸ. Um herauszufinden, welche Datei das ist, kannst Du den <code>rev-list</code> Befehl verwenden, den wir in Kapitel 7 schon einmal kurz verwendet haben. Wenn Du die Optionen <code>--objects</code> und <code>rev-list</code> verwendest, werden alle Commit- und Blob-SHAs mit den jeweiligen Dateipfaden aufgelistet, die mit ihnen assoziiert sind. Auf diese Weise kannst Du den Namen des Blobs finden:</p>
<pre><code>$ git rev-list --objects --all | grep 7a9eb2fb
7a9eb2fba2b1811321254ac360970fc169ba2330 git.tbz2
</code></pre><!--Now, you need to remove this file from all trees in your past. You can easily see what commits modified this file:-->

<p>Du musst diese Datei jetzt aus allen Trees entfernen, in denen sie sich befindet. Du kannst leicht herausfinden, welche Commits diese Datei verÃ¤ndert haben:</p>
<pre><code>$ git log --pretty=oneline --branches -- git.tbz2
da3f30d019005479c99eb4c3406225613985a1db oops - removed large tarball
6df764092f3e7c8f5f94cbe08ee5cf42e92a0289 added git tarball
</code></pre><!--You must rewrite all the commits downstream from `6df76` to fully remove this file from your Git history. To do so, you use `filter-branch`, which you used in Chapter 6:-->

<p>Es geht also darum, alle Commits angefangen bei <code>6df76</code> neu zu schreiben, sodass der Tarball nicht mehr in Deiner Git-Historie enthalten ist. Um das zu erreichen, verwendest Du den Befehl <code>git filter-branch</code>, den wir schon mal in Kapitel 6 verwendet haben:</p>
<pre><code>$ git filter-branch --index-filter \
   &#39;git rm --cached --ignore-unmatch git.tbz2&#39; -- 6df7640^..
Rewrite 6df764092f3e7c8f5f94cbe08ee5cf42e92a0289 (1/2)rm &#39;git.tbz2&#39;
Rewrite da3f30d019005479c99eb4c3406225613985a1db (2/2)
Ref &#39;refs/heads/master&#39; was rewritten
</code></pre><!--The `-\-index-filter` option is similar to the `-\-tree-filter` option used in Chapter 6, except that instead of passing a command that modifies files checked out on disk, youâ€™re modifying your staging area or index each time. Rather than remove a specific file with something like `rm file`, you have to remove it with `git rm -\-cached` â€” you must remove it from the index, not from disk. The reason to do it this way is speed â€” because Git doesnâ€™t have to check out each revision to disk before running your filter, the process can be much, much faster. You can accomplish the same task with `-\-tree-filter` if you want. The `-\-ignore-unmatch` option to `git rm` tells it not to error out if the pattern youâ€™re trying to remove isnâ€™t there. Finally, you ask `filter-branch` to rewrite your history only from the `6df7640` commit up, because you know that is where this problem started. Otherwise, it will start from the beginning and will unnecessarily take longer.-->

<p>Die Option  <code>--index-filter</code> ist Ã¤hnlich der Option <code>--tree-filter</code> aus Kapitel 6. Allerdings Ã¼bergibt man in diesem Fall nicht einen Befehl, der die Dateien verÃ¤ndert, die sich jeweils ausgecheckt auf der Festplatte befinden. Stattdessen verÃ¤ndert man jeweils die Staging-Area bzw. den Index. Statt eine bestimmte Datei mit z.B: <code>rm file</code> zu entfernen, mÃ¼ssen wir also <code>git rm --cached</code> verwenden â€“ denn wir wollen sie aus dem Index, nicht von der Festplatte lÃ¶schen. Der Grund dafÃ¼r ist einfach Geschwindigkeit: Git braucht nicht jede einzelne Revision auf die Festplatte auszuchecken, um den Filter anzuwenden. Auf diese Weise lÃ¤uft der ganze Prozess sehr viel schneller. Man kann dieselbe Aufgabe aber auch mit <code>--tree-filter</code> erledigen, wenn man will. Die Option <code>--ignore-match</code> weist Git an, nicht mit einer Fehlermeldung abzubrechen, wenn die Datei, die wir lÃ¶schen wollen, nicht vorhanden ist. AuÃŸerdem teilen wir <code>filter-branch</code> mit, die Historie nur von dem Commit <code>6df7640</code> an umzuschreiben. Andernfalls wÃ¼rde der Befehl von ganz vorn beginnen und unnÃ¶tig lÃ¤nger brauchen.</p>
<!--Your history no longer contains a reference to that file. However, your reflog and a new set of refs that Git added when you did the `filter-branch` under `.git/refs/original` still do, so you have to remove them and then repack the database. You need to get rid of anything that has a pointer to those old commits before you repack:-->

<p>Deine Historie enthÃ¤lt jetzt nicht lÃ¤nger eine Referenz auf diese Datei. Dein Reflog und ein neues Set an Referenzen, die Git unter <code>.git/refs/original</code> angelegt hat, als Du <code>filter-branch</code> ausgefÃ¼hrt hast, tun das allerdings immer noch â€“ also entfernen wir sie von dort und packen das Repository erneut. Bevor Du packst, musst Du zuerst alles entfernen, was noch Referenzen auf das alte Objekt enthÃ¤lt:</p>
<pre><code>$ rm -Rf .git/refs/original
$ rm -Rf .git/logs/
$ git gc
Counting objects: 19, done.
Delta compression using 2 threads.
Compressing objects: 100% (14/14), done.
Writing objects: 100% (19/19), done.
Total 19 (delta 3), reused 16 (delta 1)
</code></pre><!--Letâ€™s see how much space you saved.-->

<p>PrÃ¼fen wir also, wieviel Platz wir damit eingespart haben:</p>
<pre><code>$ git count-objects -v
count: 8
size: 2040
in-pack: 19
packs: 1
size-pack: 7
prune-packable: 0
garbage: 0
</code></pre><!--The packed repository size is down to 7K, which is much better than 2MB. You can see from the size value that the big object is still in your loose objects, so itâ€™s not gone; but it wonâ€™t be transferred on a push or subsequent clone, which is what is important. If you really wanted to, you could remove the object completely by running `git prune -\-expire`.-->

<p>Das gepackte Repository umfasst jetzt nur noch 7K â€“ sehr viel besser als die vorherigen 2MB. Du kannst an dem Wert <code>size</code> erkennen, dass sich die groÃŸe Datei selbst jetzt immer noch in Deinen losen Objekten befindet. Aber sie wird bei einem <code>git push</code> oder anschlieÃŸenden <code>git clone</code> nicht Ã¼bermittelt werden â€“ und das war unser Ziel. Wenn Du das wirklich willst, kannst Du sie jetzt vollstÃ¤ndig und endgÃ¼ltig mit <code>git prune --expire</code> aus Deinem Repository lÃ¶schen.</p>
<!--# Summary-->
                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../git_internals/transfer_protokolle.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../git_internals/zusammenfassung.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
