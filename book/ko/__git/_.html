<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>프로젝트 운영하기 | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="jmatchett">
        <meta name="description" content="This is a GitBook version of the Scott Chacon&#39;s book: [Pro Git](https://github.com/progit/progit).">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../__git/.html" />
        
        
        <link rel="prev" href="../__git/_.html" />
        

        <meta property="og:title" content="프로젝트 운영하기 | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/jmatchett">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="jmatchett/git" data-level="5.3" data-basepath=".." data-revision="1398354139925">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/jmatchett/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/jmatchett/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/jmatchett/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/jmatchett" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/jmatchett/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/jmatchett/git/edit/master/__git/_.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="index.html">
                
                <a href="../index.html">
                    <i class="fa fa-check"></i> <b>1.</b> 시작하기
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="_.html">
                            
                            <a href="../_.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> 버전 관리란?
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="__git_.html">
                            
                            <a href="../__git_.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> 짧게 보는 Git의 역사
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="git_.html">
                            
                            <a href="../git_.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Git 기초
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="git_.html">
                            
                            <a href="../git_.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Git 설치
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="git__.html">
                            
                            <a href="../git__.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Git 최초 설정
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="_.html">
                            
                            <a href="../_.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> 도움말 보기
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path=".html">
                            
                            <a href="../.html">
                                <i class="fa fa-check"></i> <b>1.7.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="git_/README.html">
                
                <a href="../git_/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Git의 기초
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="git_/git__.html">
                            
                            <a href="../git_/git__.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Git 저장소 만들기
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="git_/__.html">
                            
                            <a href="../git_/__.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> 수정하고 저장소에 저장하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="git_/__.html">
                            
                            <a href="../git_/__.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> 커밋 히스토리 조회하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> 되돌리기
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> 리모트 저장소
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> 태그
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>2.7.</b> 팁과 트릭
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>2.8.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="git_/README.html">
                
                <a href="../git_/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Git 브랜치
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> 브랜치란 무엇인가?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="git_/_merge_.html">
                            
                            <a href="../git_/_merge_.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> 브랜치와 Merge의 기초
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> 브랜치 관리
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="git_/_workflow.html">
                            
                            <a href="../git_/_workflow.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> 브랜치 Workflow
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> 리모트 브랜치
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="git_/rebase.html">
                            
                            <a href="../git_/rebase.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Rebase하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>3.7.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_/README.html">
                
                <a href="../git_/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> Git 서버
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> 프로토콜
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_/_git_.html">
                            
                            <a href="../git_/_git_.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> 서버에 Git 설치하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_/ssh__.html">
                            
                            <a href="../git_/ssh__.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> SSH 공개키 만들기
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> 서버에 설정하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> 공개하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_/gitweb.html">
                            
                            <a href="../git_/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6.</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_/gitosis.html">
                            
                            <a href="../git_/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7.</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_/gitolite.html">
                            
                            <a href="../git_/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.8.</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_/git_.html">
                            
                            <a href="../git_/git_.html">
                                <i class="fa fa-check"></i> <b>4.9.</b> Git 데몬
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_/hosted_git.html">
                            
                            <a href="../git_/hosted_git.html">
                                <i class="fa fa-check"></i> <b>4.10.</b> Hosted Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.11" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>4.11.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="__git/README.html">
                
                <a href="../__git/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> 분산 환경에서의 Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="__git/__workflow.html">
                            
                            <a href="../__git/__workflow.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> 분산 환경에서의 Workflow
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="__git/_.html">
                            
                            <a href="../__git/_.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> 프로젝트에 기여하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="__git/_.html">
                            
                            <a href="../__git/_.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> 프로젝트 운영하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="__git/.html">
                            
                            <a href="../__git/.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="git_/README.html">
                
                <a href="../git_/README.html">
                    <i class="fa fa-check"></i> <b>6.</b> Git 도구
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> 리비전 조회하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> 대화형 명령어
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="git_/stashing.html">
                            
                            <a href="../git_/stashing.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Stashing
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="git_/_.html">
                            
                            <a href="../git_/_.html">
                                <i class="fa fa-check"></i> <b>6.4.</b> 히스토리 단장하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="git_/git__.html">
                            
                            <a href="../git_/git__.html">
                                <i class="fa fa-check"></i> <b>6.5.</b> Git으로 버그 찾기
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>6.6.</b> 서브모듈
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="git_/subtree_merge.html">
                            
                            <a href="../git_/subtree_merge.html">
                                <i class="fa fa-check"></i> <b>6.7.</b> Subtree Merge
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>6.8.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="git/README.html">
                
                <a href="../git/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> Git맞춤
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="git/git_.html">
                            
                            <a href="../git/git_.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Git 설정하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="git/git_attribute.html">
                            
                            <a href="../git/git_attribute.html">
                                <i class="fa fa-check"></i> <b>7.2.</b> Git Attribute
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="git/git_.html">
                            
                            <a href="../git/git_.html">
                                <i class="fa fa-check"></i> <b>7.3.</b> Git 훅
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="git/_.html">
                            
                            <a href="../git/_.html">
                                <i class="fa fa-check"></i> <b>7.4.</b> 정책 구현하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="git/.html">
                            
                            <a href="../git/.html">
                                <i class="fa fa-check"></i> <b>7.5.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_/README.html">
                
                <a href="../git_/README.html">
                    <i class="fa fa-check"></i> <b>8.</b> Git으로 이전하기
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_/git_subversion.html">
                            
                            <a href="../git_/git_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1.</b> Git과 Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_/git_.html">
                            
                            <a href="../git_/git_.html">
                                <i class="fa fa-check"></i> <b>8.2.</b> Git으로 옮기기
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>8.3.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="git_/README.html">
                
                <a href="../git_/README.html">
                    <i class="fa fa-check"></i> <b>9.</b> Git의 내부
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="git_/plumbing__porcelain_.html">
                            
                            <a href="../git_/plumbing__porcelain_.html">
                                <i class="fa fa-check"></i> <b>9.1.</b> Plumbing 명령과 Porcelain 명령
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="git_/git_.html">
                            
                            <a href="../git_/git_.html">
                                <i class="fa fa-check"></i> <b>9.2.</b> Git 개체
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="git_/git_.html">
                            
                            <a href="../git_/git_.html">
                                <i class="fa fa-check"></i> <b>9.3.</b> Git 레퍼런스
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="git_/packfile.html">
                            
                            <a href="../git_/packfile.html">
                                <i class="fa fa-check"></i> <b>9.4.</b> Packfile
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="git_/refspec.html">
                            
                            <a href="../git_/refspec.html">
                                <i class="fa fa-check"></i> <b>9.5.</b> Refspec
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="git_/__.html">
                            
                            <a href="../git_/__.html">
                                <i class="fa fa-check"></i> <b>9.6.</b> 데이터 전송 프로토콜
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="git_/___.html">
                            
                            <a href="../git_/___.html">
                                <i class="fa fa-check"></i> <b>9.7.</b> 운영 및 데이터 복구
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="git_/.html">
                            
                            <a href="../git_/.html">
                                <i class="fa fa-check"></i> <b>9.8.</b> 요약
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 47.22222222222222%;min-width: 44.44444444444444%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="시작하기" class="chapter done new-chapter" data-progress="1" style="left: 0%;"></a>
    
        <a href="../__git_.html" title="짧게 보는 Git의 역사" class="chapter done " data-progress="1.2" style="left: 2.7777777777777777%;"></a>
    
        <a href="../git_.html" title="Git 설치" class="chapter done " data-progress="1.4" style="left: 5.555555555555555%;"></a>
    
        <a href="../git__.html" title="Git 최초 설정" class="chapter done " data-progress="1.5" style="left: 8.333333333333334%;"></a>
    
        <a href="../_.html" title="도움말 보기" class="chapter done " data-progress="1.6" style="left: 11.11111111111111%;"></a>
    
        <a href="../.html" title="요약" class="chapter done " data-progress="1.7" style="left: 13.88888888888889%;"></a>
    
        <a href="../git_/_merge_.html" title="브랜치와 Merge의 기초" class="chapter done " data-progress="3.2" style="left: 16.666666666666668%;"></a>
    
        <a href="../git_/_workflow.html" title="브랜치 Workflow" class="chapter done " data-progress="3.4" style="left: 19.444444444444443%;"></a>
    
        <a href="../git_/rebase.html" title="Rebase하기" class="chapter done " data-progress="3.6" style="left: 22.22222222222222%;"></a>
    
        <a href="../git_/hosted_git.html" title="Hosted Git" class="chapter done " data-progress="4.10" style="left: 25%;"></a>
    
        <a href="../git_/_git_.html" title="서버에 Git 설치하기" class="chapter done " data-progress="4.2" style="left: 27.77777777777778%;"></a>
    
        <a href="../git_/ssh__.html" title="SSH 공개키 만들기" class="chapter done " data-progress="4.3" style="left: 30.555555555555557%;"></a>
    
        <a href="../git_/gitweb.html" title="GitWeb" class="chapter done " data-progress="4.6" style="left: 33.333333333333336%;"></a>
    
        <a href="../git_/gitosis.html" title="Gitosis" class="chapter done " data-progress="4.7" style="left: 36.111111111111114%;"></a>
    
        <a href="../git_/gitolite.html" title="Gitolite" class="chapter done " data-progress="4.8" style="left: 38.888888888888886%;"></a>
    
        <a href="../__git/README.html" title="분산 환경에서의 Git" class="chapter done new-chapter" data-progress="5" style="left: 41.666666666666664%;"></a>
    
        <a href="../__git/__workflow.html" title="분산 환경에서의 Workflow" class="chapter done " data-progress="5.1" style="left: 44.44444444444444%;"></a>
    
        <a href="../__git/_.html" title="프로젝트 운영하기" class="chapter done " data-progress="5.3" style="left: 47.22222222222222%;"></a>
    
        <a href="../__git/.html" title="요약" class="chapter  " data-progress="5.4" style="left: 50%;"></a>
    
        <a href="../git_/stashing.html" title="Stashing" class="chapter  " data-progress="6.3" style="left: 52.77777777777778%;"></a>
    
        <a href="../git_/_.html" title="히스토리 단장하기" class="chapter  " data-progress="6.4" style="left: 55.55555555555556%;"></a>
    
        <a href="../git_/git__.html" title="Git으로 버그 찾기" class="chapter  " data-progress="6.5" style="left: 58.333333333333336%;"></a>
    
        <a href="../git_/subtree_merge.html" title="Subtree Merge" class="chapter  " data-progress="6.7" style="left: 61.111111111111114%;"></a>
    
        <a href="../git/README.html" title="Git맞춤" class="chapter  new-chapter" data-progress="7" style="left: 63.888888888888886%;"></a>
    
        <a href="../git/git_attribute.html" title="Git Attribute" class="chapter  " data-progress="7.2" style="left: 66.66666666666667%;"></a>
    
        <a href="../git/git_.html" title="Git 훅" class="chapter  " data-progress="7.3" style="left: 69.44444444444444%;"></a>
    
        <a href="../git/_.html" title="정책 구현하기" class="chapter  " data-progress="7.4" style="left: 72.22222222222223%;"></a>
    
        <a href="../git/.html" title="요약" class="chapter  " data-progress="7.5" style="left: 75%;"></a>
    
        <a href="../git_/git_subversion.html" title="Git과 Subversion" class="chapter  " data-progress="8.1" style="left: 77.77777777777777%;"></a>
    
        <a href="../git_/README.html" title="Git의 내부" class="chapter  new-chapter" data-progress="9" style="left: 80.55555555555556%;"></a>
    
        <a href="../git_/plumbing__porcelain_.html" title="Plumbing 명령과 Porcelain 명령" class="chapter  " data-progress="9.1" style="left: 83.33333333333333%;"></a>
    
        <a href="../git_/git_.html" title="Git 레퍼런스" class="chapter  " data-progress="9.3" style="left: 86.11111111111111%;"></a>
    
        <a href="../git_/packfile.html" title="Packfile" class="chapter  " data-progress="9.4" style="left: 88.88888888888889%;"></a>
    
        <a href="../git_/refspec.html" title="Refspec" class="chapter  " data-progress="9.5" style="left: 91.66666666666667%;"></a>
    
        <a href="../git_/__.html" title="데이터 전송 프로토콜" class="chapter  " data-progress="9.6" style="left: 94.44444444444444%;"></a>
    
        <a href="../git_/___.html" title="운영 및 데이터 복구" class="chapter  " data-progress="9.7" style="left: 97.22222222222223%;"></a>
    
        <a href="../git_/.html" title="요약" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_297">
                    
                        <h1 id="-">프로젝트 운영하기</h1>
<p>효율적으로 기여하는 방법뿐만 아니라 효율적으로 운영하는 방법도 알아야 한다. 언젠가는 단순히 프로젝트에 기여하는 것이 아니라 프로젝트를 직접 운영해야 할 수도 있다. 프로젝트를 운영하는 것은 크게 두 가지로 이루어진다. 하나는 format-patch 명령으로 생성한 Patch를 이메일로 받아서 프로젝트에 Patch를 적용하는 것이다. 다른 하나는 프로젝트의 다른 리모트 저장소로부터 변경 내용을 Merge하는 것이다. 저장소를 아주 깔끔하고 정돈된 상태로 운영하고 Patch를 적용하거나 수정사항을 확인하기 쉬운 상태를 유지하려면 좋은 운영 방식을 터득해야 한다. 좋은 운영 방식은 다른 사람들이 이해하기 쉽고 프로젝트가 오랫동안 운영돼도 흐트러짐이 없어야 한다.</p>
<h2 id="-">토픽 브랜치에서 일하기</h2>
<p>메인 브랜치에 통합하기 전에 임시로 토픽 브랜치를 하나 만들고 거기에 통합해 보고 나서 다시 메인 브랜치에 통합하는 것이 좋다. 이렇게 하면 Patch를 적용할 때 이리저리 수정해 보기도 하고 좀 더 고민해 봐야 하면 Patch를 적용해둔 채로 나중으로 미룰 수도 있다. 무슨 Patch인지 브랜치 이름에 간단히 적어주면 다른 작업을 하다가 나중에 이 브랜치로 돌아왔을 때 기억해내기 훨씬 수월하다. 프로젝트의 관리자라면 이런 토픽 브랜치의 이름을 잘 지어야 한다. 예를 들어 sc라는 사람이 작업한 Patch라면 <code>sc/ruby_client</code> 처럼 앞에 닉네임을 붙여서 브랜치를 만들 수 있다. master 브랜치에서 새 토픽 브랜치를 아래와 같이 만든다:</p>
<pre><code>$ git branch sc/ruby_client master
</code></pre><p><code>checkout -b</code> 명령으로 브랜치를 만들고 Checkout까지 한 번에 할 수 있다:</p>
<pre><code>$ git checkout -b sc/ruby_client master
</code></pre><p>이렇게 토픽 브랜치를 만들고 Patch를 적용해보고 적용한 내용을 다시 Long-Running 브랜치로 Merge한다.</p>
<h2 id="-patch-">이메일로 받은 Patch를 적용하기</h2>
<p>이메일로 받은 Patch를 프로젝트에 적용하기 전에 우선 토픽 브랜치에 Patch를 적용해 본다. Patch를 적용하는 방법은 <code>git apply</code> 명령을 사용하는 것과 <code>git am</code> 명령을 사용하는 것 두 가지가 있다.</p>
<h3 id="apply-">apply 명령을 사용하는 방법</h3>
<p><code>git diff</code>나 Unix의 diff 명령으로 만든 Patch파일을 적용할 때에는 <code>git apply</code> 명령을 사용한다. Patch 파일이 <code>/tmp/patch-ruby-client.patch</code>라고 하면 아래와 같은 명령으로 Patch를 적용할 수 있다:</p>
<pre><code>$ git apply /tmp/patch-ruby-client.patch
</code></pre><p>위 명령을 실행하면 Patch 파일 내용에 따라 현재 디렉토리의 파일들을 변경한다. 위 명령은 <code>patch -p1</code> 명령과 거의 같다. 하지만, 이 명령이 patch 명령보다 훨씬 더 꼼꼼하게 비교한다. <code>git diff</code>로 생성한 Patch 파일에 파일을 추가하거나, 파일을 삭제하고, 파일의 이름을 변경하는 내용이 들어 있으면 그대로 적용된다. 이런 것은 patch 명령으로 할 수 없다.</p>
<p>그리고 <code>git apply</code>는 &quot;모두 적용, 아니면 모두 취소&quot; 모델을 사용하기 때문에 Patch를 적용하는 데 실패하면 Patch를 적용하기 이전 상태로 전부 되돌려 놓는다. Patch 명령은 여러 파일에 적용하다가 중간에 실패하면 거기서 그대로 중단하기 때문에 깔끔하지 못하다. <code>git apply</code>는 Patch보다 훨씬 결벽증적이다. 이 명령은 자동으로 커밋해 주지 않기 때문에 변경된 파일을 직접 Staging Area에 추가하고 커밋해야 한다.</p>
<p>실제로 Patch를 적용하기 전에 Patch가 잘 적용되는지 한 번 시험해보려면 <code>git apply --check</code> 명령을 사용한다:</p>
<pre><code>$ git apply --check 0001-seeing-if-this-helps-the-gem.patch
error: patch failed: ticgit.gemspec:1
error: ticgit.gemspec: patch does not apply
</code></pre><p>화면에 아무런 내용도 뜨지 않으면 Patch가 깔끔하게 적용된다는 것이다. 이 명령은 Patch를 적용해 보고 에러가 발생하면 0이 아닌 값을 반환하기 때문에 쉘 스크립트에서도 사용할 수 있다.</p>
<h3 id="am-">am 명령을 사용하는 방법</h3>
<p>프로젝트 기여자가 Git의 format-patch 명령을 잘 사용하면 관리자의 작업은 훨씬 쉬워진다. format-patch 명령으로 만든 Patch 파일은 기여자의 정보와 커밋 정보가 포함되어 있기 때문이다. 그래서 기여자가 diff보다 format-patch를 사용하도록 권해야 한다. <code>git apply</code>는 기존의 Patch파일에만 사용한다.</p>
<p>format-patch 명령으로 생성한 Patch 파일은 <code>git am</code> 명령으로 적용한다. <code>git am</code>은 메일 여러 통이 들어 있는 mbox파일을 읽어서 Patch한다. mbox파일은 간단한 텍스트 파일이고 그 내용은 아래와 같다:</p>
<pre><code>From 330090432754092d704da8e76ca5c05c198e71a8 Mon Sep 17 00:00:00 2001
From: Jessica Smith &lt;jessica@example.com&gt;
Date: Sun, 6 Apr 2008 10:17:23 -0700
Subject: [PATCH 1/2] add limit to log function

Limit log functionality to the first 20
</code></pre><p>이 내용은 format-patch 명령으로 생성한 파일의 앞부분이다. 이 파일은 mbox 형식이다. 받은 메일이 <code>git send-email</code>로 만든 메일이라면 mbox 형식으로 저장하고 이 mbox 파일을 <code>git am</code> 명령으로 적용한다. 사용하는 메일 클라이언트가 여러 메일을 하나의 mbox 파일로 저장할 수 있다면 메일 여러 개를 한 번에 Patch할 수 있다.</p>
<p>이메일로 받은 것이 아니라 이슈 트래킹 시스템 같은데 올라온 파일이라면 먼저 내려받고서 <code>git am</code> 명령으로 Patch한다:</p>
<pre><code>$ git am 0001-limit-log-function.patch
Applying: add limit to log function
</code></pre><p>Patch가 성공하면 자동으로 새로운 커밋이 하나 만들어진다. Patch 파일에 들어 있는 기여자의 이메일, 작성시간, 커밋 메시지를 뽑아서 커밋에 함께 저장한다. 예를 들어 위의 mbox 예제 파일을 적용해서 생성되는 커밋은 아래와 같다:</p>
<pre><code>$ git log --pretty=fuller -1
commit 6c5e70b984a60b3cecd395edd5b48a7575bf58e0
Author:     Jessica Smith &lt;jessica@example.com&gt;
AuthorDate: Sun Apr 6 10:17:23 2008 -0700
Commit:     Scott Chacon &lt;schacon@gmail.com&gt;
CommitDate: Thu Apr 9 09:19:06 2009 -0700

   add limit to log function

   Limit log functionality to the first 20
</code></pre><p>커밋 정보는 누가 언제 Patch했는 지 알려 준다. Author 정보는 실제로 누가 언제 Patch파일을 만들었는지 알려 준다.</p>
<p>Patch에 실패할 수도 있다. 보통 Patch가 생성된 시점보다 해당 브랜치가 너무 업데이트 됐을 때나 아직 적용되지 않은 다른 Patch가 필요한 경우에 일어난다. 이러면 <code>git am</code> 명령은 Patch를 중단하고 사용자에게 어떻게 처리할지 물어온다:</p>
<pre><code>$ git am 0001-seeing-if-this-helps-the-gem.patch
Applying: seeing if this helps the gem
error: patch failed: ticgit.gemspec:1
error: ticgit.gemspec: patch does not apply
Patch failed at 0001.
When you have resolved this problem run &quot;git am --resolved&quot;.
  (충돌을 해결하면 &quot;git am --resolved&quot; 입력)
If you would prefer to skip this patch, instead run &quot;git am --skip&quot;.
  (Patch 적용을 생략하려면 &quot;git am --skip&quot; 입력)
To restore the original branch and stop patching run &quot;git am --abort&quot;.
  (Patch 적용을 중단하려면 &quot;git am --abort&quot; 입력)
</code></pre><p>성공적으로 Patch하지 못하면 git은 Merge나 Rebase의 경우처럼 문제를 일으킨 파일에 충돌 표시를 해 놓는다. Merge나 Rebase할 때 충돌을 해결하는 것처럼 Patch의 충돌도 해결할 수 있다. 충돌한 파일을 열어서 충돌 부분을 수정하고 나서 Staging Area에 추가하고 <code>git am --resolved</code> 명령을 입력한다:</p>
<pre><code>$ (fix the file)
$ git add ticgit.gemspec
$ git am --resolved
Applying: seeing if this helps the gem
</code></pre><p>충돌이 났을 때 Git에게 좀 더 머리를 써서 Patch를 적용하도록 하려면 -3 옵션을 사용한다. 이 옵션은 Git에게 3-way Patch를 적용해 보라고 하는 것이다. Patch가 어느 시점에서 갈라져 나온 것인지 알 수 없기 때문에 이 옵션은 기본적으로 비활성화돼 있다. 하지만, 같은 프로젝트의 커밋이라면 기본옵션보다 훨씬 똑똑하게 충돌 상황을 해결한다.</p>
<pre><code>$ git am -3 0001-seeing-if-this-helps-the-gem.patch
Applying: seeing if this helps the gem
error: patch failed: ticgit.gemspec:1
error: ticgit.gemspec: patch does not apply
Using index info to reconstruct a base tree...
Falling back to patching base and 3-way merge...
No changes -- Patch already applied.
</code></pre><p>위의 경우는 이미 Patch한 것을 다시 Patch하는 상황이다. -3 옵션이 없었으면 충돌을 알아서 해결하지 못했을 것이다.</p>
<p>하나의 mbox 파일에 들어 있는 여러 Patch를 적용할 때 대화형 방식을 사용할 수 있다. 이 방식을 사용하면 Patch를 적용하기 전에 Patch를 적용할 때마다 묻는다:</p>
<pre><code>$ git am -3 -i mbox
Commit Body is:
--------------------------
seeing if this helps the gem
--------------------------
Apply? [y]es/[n]o/[e]dit/[v]iew patch/[a]ccept all
</code></pre><p>이 옵션은 Patch를 여러 개 적용할 때 유용하다. 적용하려는 Patch의 내용을 미리 꼭 기억해두지 않아도 되고 적용하기 전에 이미 적용된 Patch인지 알 수 있다.</p>
<p>모든 Patch를 토픽 브랜치에 적용하고 커밋까지 마치면 Long-Running 브랜치에 어떻게 통합할지를 결정해야 한다.</p>
<h2 id="-">리모트 브랜치로부터 통합하기</h2>
<p>프로젝트 기여자가 자신의 저장소를 만들고 커밋을 몇 번 하고 저장소의 URL과 변경 내용을 메일로 보내왔다면 URL을 리모트 저장소로 등록하고 Merge할 수 있다.</p>
<p>예를 들어 Jessica씨는 ruby-client 브랜치에 엄청난 기능을 만들어 놨다고 메일을 보내왔다. 이 리모트 브랜치를 등록하고 Checkout해서 테스트한다:</p>
<pre><code>$ git remote add jessica git://github.com/jessica/myproject.git
$ git fetch jessica
$ git checkout -b rubyclient jessica/ruby-client
</code></pre><p>후에 Jessiaca씨가 이메일로 또 다른 엄청난 기능을 개발한 브랜치를 보내오면 이미 저장소를 등록했기 때문에 간단히 Fetch하고 Checkout할 수 있다.</p>
<p>다른 개발자들과 함께 지속적으로 개발할 때는 이 방식이 가장 사용하기 좋다. 물론 기여하는 사람이 간단한 Patch를 이따금씩만 만들어 내면 이메일로 Patch 파일을 받는 것이 낫다. 기여자가 저장소 서버를 만들어 커밋하고 관리자가 리모트 저장소로 등록해서 Patch를 합치는 작업보다 시간과 노력이 덜 든다. 물론 Patch 한두 개를 보내는 사람들까지도 모두 리모트 저장소로 등록해서 사용해도 된다. 스크립트나 호스팅 서비스를 사용하면 좀 더 쉽게 관리할 수 있다. 어쨌든 어떤 방식이 좋을지는 우리가 어떻게 개발하고 어떻게 기여할지에 달렸다.</p>
<p>리모트 저장소로 등록하면 커밋의 히스토리도 알 수 있다. Merge할 때 어디서 부터 커밋이 갈라졌는지 알 수 있기 때문에 -3 옵션을 주지 않아도 자동으로 3-way Merge가 적용된다.</p>
<p>리모트 저장소로 등록하지 않고도 Merge할 수 있다. 계속 함께 일할 개발자가 아닐 때 사용하면 좋다. 아래는 리모트 저장소로 등록하지 않고 URL을 직접 사용하여 Merge를 하는 예이다:</p>
<pre><code>$ git pull git://github.com/onetimeguy/project.git
From git://github.com/onetimeguy/project
 * branch            HEAD       -&gt; FETCH_HEAD
Merge made by recursive.
</code></pre><h2 id="-">무슨 내용인지 확인하기</h2>
<p>기여물이 포함된 토픽 브랜치가 있으니 이제 그 기여물을 Merge할지 말지 결정야 한다. 이번 절에서는 메인 브랜치에 Merge할 때 필요한 명령어를 살펴본다. 주로 토픽 브랜치를 검토하는데 필요한 명령이다.</p>
<p>먼저 지금 작업하는 브랜치에서 master 브랜치에 속하지 않는 커밋만 살펴보는 것이 좋다. --not 옵션으로 히스토리에서 master 브랜치에 속한 커밋은 제외하고 살펴본다. 예를 들어 contrib 브랜치에 Patch를 두 개 Merge했으면 아래와 같은 명령어로 그 결과를 살펴볼 수 있다:</p>
<pre><code>$ git log contrib --not master
commit 5b6235bd297351589efc4d73316f0a68d484f118
Author: Scott Chacon &lt;schacon@gmail.com&gt;
Date:   Fri Oct 24 09:53:59 2008 -0700

    seeing if this helps the gem

commit 7482e0d16d04bea79d0dba8988cc78df655f16a0
Author: Scott Chacon &lt;schacon@gmail.com&gt;
Date:   Mon Oct 22 19:38:36 2008 -0700

    updated the gemspec to hopefully work better
</code></pre><p><code>git log</code> 명령에 -p 옵션을 주면 각 커밋에서 실제로 무슨 내용이 변경됐는지 살펴볼 수 있다. 이 옵션은 각 commit의 뒤에 diff의 내용을 출력해 준다.</p>
<p>토픽 브랜치를 다른 브랜치에 Merge하기 전에 어떤 부분이 변경될지 미리 살펴볼 수 있다. 이때는 색다른 명령을 사용해야 한다. 물론 아래와 같은 명령을 사용할 수도 있다:</p>
<pre><code>$ git diff master
</code></pre><p>이 명령은 diff 내용을 보여주긴 하지만 잘못된 것을 보여줄 수도 있다. 토픽 브랜치에서 작업하는 동안 master 브랜치에 새로운 커밋이 추가될 수도 있다. 그래서 기대하는 diff 결과가 아닐 수 있다. 지금 이 명령은 각 브랜치의 마지막 스냅샷을 비교한다. master 브랜치에 한 줄을 추가되면 토픽 브랜치에서 한 줄 삭제한 것으로 보여 준다.</p>
<p>master 브랜치가 가리키는 커밋이 토픽 브랜치의 조상이라면 아무 문제 없다. 하지만, 그렇지 않은 경우라면 이 diff 도구는 토픽 브랜치에만 있는 내용은 추가하는 것이고 master 브랜치에만 있는 내용은 삭제하는 것으로 간주한다.</p>
<p>정말 보고 싶은 것은 토픽 브랜치에 추가한 것이고 결국에는 이것을 master 브랜치에 추가하려는 것이다. 그러니까 master 브랜치와 토픽 브랜치의 공통 조상인 커밋을 찾아서 토픽 브랜치가 현재 가리키는 커밋과 비교해야 한다.</p>
<p>아래와 같은 명령으로 공통 조상인 커밋을 찾고 이 조상 커밋에서 변경된 내용을 살펴본다:</p>
<pre><code>$ git merge-base contrib master
36c7dba2c95e6bbb78dfa822519ecfec6e1ca649
$ git diff 36c7db
</code></pre><p>이 방법으로 원하는 결과를 얻을 수 있지만, 사용법이 불편하다. Git은 Triple-Dot으로 간단하게 위와 같이 비교하는 방법을 지원한다. diff 명령을 사용할 때 두 브랜치 사이에 ...를 쓰면, 두 브랜치의 공통 조상과 브랜치의 마지막 커밋을 비교한다:</p>
<pre><code>$ git diff master...contrib
</code></pre><p>이 명령은 master 브랜치로부터 현재 토픽 브랜치의 다른 것들만 보여주기 때문에 기억해두면 매우 유용하게 사용할 수 있을 것이다.</p>
<h2 id="-">기여물 통합하기</h2>
<p>기여물을 토픽 브랜치에 다 적용하고 Long-Running 브랜치나 master 브랜치로 통합할 준비가 되었다면 이제 어떻게 해야 할까? 프로젝트를 운영하는 데 쓰는 작업 방식은 어떤 것이 있을까? 앞으로 그 예제 몇 가지를 살펴본다.</p>
<h3 id="merge-workflow">Merge Workflow</h3>
<p>바로 master 브랜치에 Merge하는 것이 가장 간단하다. 이 Workflow에서는 master 브랜치가 안전한 코드라고 가정한다. 토픽 브랜치를 검증하고 master 브랜치로 Merge할 때마다 토픽 브랜치를 삭제한다. 그림 5-19처럼 <code>ruby_client</code> 브랜치와 <code>php_client</code> 브랜치가 있을 때 <code>ruby_client</code> 브랜치를 master 브랜치로 Merge한 후 <code>php_client</code> 브랜치를 Merge하면 그림 5-20과 같아진다:</p>
<p><img src="http://git-scm.com/figures/18333fig0519-tn.png" alt=""></p>
<p>그림 5-19. 저장소의 두 브랜치</p>
<p><img src="http://git-scm.com/figures/18333fig0520-tn.png" alt=""></p>
<p>그림 5-20. Merge한 후의 저장소</p>
<p>이 Workflow은 간단하지만, 프로젝트의 규모가 커지면 문제가 생길 수 있다.</p>
<p>개발자가 많고 규모가 큰 프로젝트에서는 두 단계로 Merge하는 것이 좋다. 그래서 Long-Running 브랜치를 두 개로 유지해야 한다. master 브랜치는 아주 안정적인 버전을 릴리즈하기 위해서 사용한다. develop 브랜치는 새로 수정된 코드를 통합할 때 사용한다. 그리고 두 브랜치를 모두 저장소에 Push한다. 우선 develop 브랜치에 토픽 브랜치(그림 5-21)를 그림 5-22과 같이 Merge한다. 그 후에 릴리즈해도 될만한 수준이 되면 master 브랜치를 develop 브랜치까지 Fast-forward시킨다(그림 5-23).</p>
<p><img src="http://git-scm.com/figures/18333fig0521-tn.png" alt=""></p>
<p>그림 5-21. 토픽 브랜치를 Merge하기 전</p>
<p><img src="http://git-scm.com/figures/18333fig0522-tn.png" alt=""></p>
<p>그림 5-22. 토픽 브랜치를 Merge한 후</p>
<p><img src="http://git-scm.com/figures/18333fig0523-tn.png" alt=""></p>
<p>그림 5-23. 토픽 브랜치를 릴리즈한 후</p>
<p>이 Workflow을 사용하면 프로젝트 저장소를 Clone하고 나서 개발자가 안정 버전이 필요하면 master 브랜치를 빌드하고 안정적이지 않더라도 좀 더 최신 버전이 필요하면 develop 브랜치를 Checkout하여 빌드한다. 이 개념을 좀 더 확장해서 사용할 수 있다. 토픽 브랜치를 검증하기 위한 integrate 브랜치를 만들어 Merge하고 토픽 브랜치가 검증되면 develop 브랜치에 머지한다. 그리고 develop 브랜치에서 충분히 안정하다는 것이 증명되면 그때 master 브랜치에 Merge한다.</p>
<h3 id="-merge-workflow">대규모 Merge Workflow</h3>
<p>Git을 개발하는 프로젝트는 Long-Running의 브랜치를 4개 운영한다. 각 브랜치 이름은 master, next, pu (Proposed Updates), maint 이다. maint는 마지막으로 릴리즈한 버전을 지원하는 브랜치다. 기여자가 새로운 기능을 제안하면 관리자는 그림 5-24처럼 자신의 저장소에 토픽 브랜치를 만들어 관리한다. 그리고 토픽에 부족한 점은 없는지, 안정적인지 계속 테스트한다. 안정화되면 next로 Merge하고 저장소에 Push한다. 그러면 모두가 잘 통합됐는지 확인할 수 있다.</p>
<p><img src="http://git-scm.com/figures/18333fig0524-tn.png" alt=""></p>
<p>그림 5-24. 토픽 브랜치를 동시에 여러 개 관리하는 것은 복잡하다</p>
<p>토픽 브랜치가 좀 더 개선돼야 하면 next가 아니라 pu에 Merge한다. 그 후에 충분히 검증을 마치면 pu에서 next로 옮기고 next를 기반으로 pu를 다시 만든다. next에는 아직 master에 넣기에 모자라 보이는 것들이 들어 있다. 즉 next 브랜치는 정말 가끔 Rebase하고 pu는 자주 Rebase하지만 master는 항상 Fast-forward한다(그림 5-25).</p>
<p><img src="http://git-scm.com/figures/18333fig0525-tn.png" alt=""></p>
<p>그림 5-25. 토픽 브랜치를 Long-Running 브랜치로 Merge하기</p>
<p>토픽 브랜치가 결국 master 브랜치로 Merge되면 저장소에서 삭제한다. 그리고 이전 릴리즈 버전에 Patch가 필요하면 maint 브랜치를 이용해 대응한다. Git을 개발하는 프로젝트를 Clone하면 브랜치가 4개 있고 각 브랜치를 이용하여 진행사항을 확인해볼 수 있다. 그래서 새로운 기능을 추가하려면 적당한 브랜치를 보고 고른다. 이 Workflow는 잘 구조화돼 있어서 코드가 새로 추가돼도 테스트하기 쉽다.</p>
<h3 id="rebase-cherry-pick-workflow">Rebase와 Cherry-Pick Workflow</h3>
<p>히스토리를 평평하게 관리하려고 Merge보다 Rebase나 Cherry-Pick을 더 선호하는 관리자들도 있다. 토픽 브랜치에서 작업을 마친 후 master에 통합할 때 master 브랜치를 기반으로 Rebase한다. 그러면 커밋이 다시 만들어 진다. master 대신 develop 등의 브랜치에도 가능하다. 문제가 없으면 master 브랜치를 Fast-forward시킨다. 이렇게 평평한 히스토리를 유지할 수 있다.</p>
<p>한 브랜치에서 다른 브랜치로 작업한 내용을 옮기는 또 다른 방식으로 Cherry-pick이란 것도 있다. Git의 Cherry-pick은 커밋 하나만 Rebase하는 것이다. 커밋 하나로 Patch 내용을 만들어 현재 브랜치에 적용을 하는 것이다. 토픽 브랜치에 있는 커밋중에서 하나만 고르거나 토픽 브랜치에 커밋이 하나밖에 없을 때 Rebase보다 유용하다. 그림 5-26의 예를 들어보자.</p>
<p><img src="http://git-scm.com/figures/18333fig0526-tn.png" alt=""></p>
<p>그림 5-26. Cherry-pick을 실행하기 전의 저장소</p>
<p>e43a6 커밋 하나만 현재 브랜치에 적용하려면 아래와 같은 명령을 실행한다:</p>
<pre><code>$ git cherry-pick e43a6fd3e94888d76779ad79fb568ed180e5fcdf
Finished one cherry-pick.
[master]: created a0a41a9: &quot;More friendly message when locking the index fails.&quot;
 3 files changed, 17 insertions(+), 3 deletions(-)
</code></pre><p>위 명령을 실행하면 e43a6 커밋에서 변경된 내용을 현재 브랜치에 똑같이 적용을 한다. 하지만, 변경을 적용한 시점이 다르므로 새 커밋의 SHA-1 해시 값은 달라진다. 명령을 실행하고 나면 그림 5-27과 같이 될 것이다.</p>
<p><img src="http://git-scm.com/figures/18333fig0527-tn.png" alt=""></p>
<p>그림 5-27. Cherry-pick 방식으로 커밋 하나를 적용한 후의 저장소</p>
<p>Rebase나 Cherry-pick 방식으로 토픽 브랜치를 합치고 나면 필요없는 토픽 브랜치나 커밋은 삭제한다.</p>
<h2 id="-">릴리즈 버전에 태그 달기</h2>
<p>적당한 때가 되면 릴리즈해야 한다. 그리고 언제든지 그 시점으로 되돌릴 수 있게 태그를 다는 것이 좋다. <em>2장</em>에서 살펴본 대로 태그를 달면 된다. 서명된 태그를 달면 아래와 같이 출력된다:</p>
<pre><code>$ git tag -s v1.5 -m &#39;my signed 1.5 tag&#39;
You need a passphrase to unlock the secret key for
user: &quot;Scott Chacon &lt;schacon@gmail.com&gt;&quot;
1024-bit DSA key, ID F721C45A, created 2009-02-09
</code></pre><p>태그에 서명하면 서명에 사용한 PGP 공개키도 배포해야 한다. Git 개발 프로젝트는 관리자의 PGP 공개키를 Blob 형식으로 Git 저장소에 함께 배포한다. 이 Blob파일을 사용하여 태그에 서명했다. 아래와 같은 명령으로 어떤 PGP 공개키를 포함할지 확인한다:</p>
<pre><code>$ gpg --list-keys
/Users/schacon/.gnupg/pubring.gpg
---------------------------------
pub   1024D/F721C45A 2009-02-09 [expires: 2010-02-09]
uid                  Scott Chacon &lt;schacon@gmail.com&gt;
sub   2048g/45D02282 2009-02-09 [expires: 2010-02-09]
</code></pre><p><code>git hash-object</code>라는 명령으로 공개키를 바로 Git 저장소에 넣을 수 있다. 이 명령은 Git 저장소 안에 Blob 형식으로 공개키를 저장해주고 그 Blob의 SHA-1 값을 알려준다:</p>
<pre><code>$ gpg -a --export F721C45A | git hash-object -w --stdin
659ef797d181633c87ec71ac3f9ba29fe5775b92
</code></pre><p>이 SHA-1 해시 값으로 PGP 공개키를 가리키는 태그를 만든다:</p>
<pre><code>$ git tag -a maintainer-pgp-pub 659ef797d181633c87ec71ac3f9ba29fe5775b92
</code></pre><p><code>git push --tags</code> 명령으로 앞서 만든 maintainer-pgp-pub 태그를 공유한다. 다른 사람이 태그의 서명을 확인하려면 우선 Git 저장소에 저장된 PGP 공개키를 꺼내서 GPG키 데이터베이스에 저장해야 한다:</p>
<pre><code>$ git show maintainer-pgp-pub | gpg --import
</code></pre><p>사람들은 이렇게 공개키를 얻어서 서명된 태그를 확인한다. 또한, 관리자가 태그 메시지에 서명을 확인하는 방법을 적어 놓으면 좋다. <code>git show &lt;tag&gt;</code>으로 어떻게 서명된 태그를 확인하는지 설명한다.</p>
<h2 id="-">빌드넘버 만들기</h2>
<p>Git은 &#39;v123&#39; 처럼 숫자 형태로 커밋 이름을 만들지 않기 때문에 사람이 기억하기 어렵다. 하지만 <code>git describe</code> 명령으로 좀 더 사람이 기억하기 쉬운 이름을 얻을 수 있다. Git은 가장 가까운 태그의 이름과, 태그에서 얼마나 더 커밋이 쌓였는지, 그리고 해당 커밋의 SHA-1 값을 조금 가져다가 이름을 만든다:</p>
<pre><code>$ git describe master
v1.6.2-rc1-20-g8c5b85c
</code></pre><p>이렇게 사람이 읽을 수 있는 이름으로 스냅샷이나 빌드를 만든다. 만약 저장소에서 Clone한 후 소스코드로 Git을 설치하면 <code>git --version</code> 명령은 이렇게 생긴 빌드넘버를 보여준다. 태그가 달린 커밋에 <code>git describe</code>명령을 사용하면 다른 정보 없이 태그 이름만 사용한다.</p>
<p><code>git describe</code> 명령은 -a나 -s 옵션을 주고 만든 Annotated 태그가 필요하다. 릴리즈 태그는 <code>git describe</code> 명령으로 만드니까 꼭 이름이 적당한지 사전에 확인해야 한다. 그리고 이 값은 Checkout이나 Show 명령에도 사용할 수 있지만, 전적으로 이름 뒤에 붙은 SHA-1 값을 사용한다. 그래서 이 값으로는 해당 커밋을 못 찾을 수도 있다. 최근 Linux Kernel은 충돌 때문에 축약된 SHA-1를 8자에서 10자로 늘렸다. 이제는 8자일 때 생성한 값은 사용할 수 없다.</p>
<h2 id="-">릴리즈 준비하기</h2>
<p>먼저 Git을 사용하지 않는 사람을 위해 소스코드 스냅샷을 압축한다. 쉽게 압축할 수 있도록 Git은 <code>git archive</code> 명령을 지원한다:</p>
<pre><code>$ git archive master --prefix=&#39;project/&#39; | gzip &gt; `git describe master`.tar.gz
$ ls *.tar.gz
v1.6.2-rc1-20-g8c5b85c.tar.gz
</code></pre><p>이 압축 파일을 풀면 프로젝트의 가장 마지막 스냅샷이 나온다. ZIP 형식으로 압축파일을 만들려면 <code>--format=zip</code> 옵션을 사용한다:</p>
<pre><code>$ git archive master --prefix=&#39;project/&#39; --format=zip &gt; `git describe master`.zip
</code></pre><p>이렇게 압축한 스냅샷 파일은 Website나 이메일로 사람들에게 배포할 수 있다.</p>
<h2 id="shortlog-">Shortlog 보기</h2>
<p>이메일로 프로젝트의 변경 사항을 사람들에게 알려야 할 때, <code>git shortlog</code> 명령을 사용하면 지난 릴리즈 이후의 변경 사항 목록을 쉽게 얻어올 수 있다. <code>git shortlog</code> 명령은 주어진 범위에 있는 커밋을 요약해준다. 아래는 최근 릴리즈 버전인 v1.0.1 이후의 커밋을 요약해 주는 예제이다:</p>
<pre><code>$ git shortlog --no-merges master --not v1.0.1
Chris Wanstrath (8):
      Add support for annotated tags to Grit::Tag
      Add packed-refs annotated tag support.
      Add Grit::Commit#to_patch
      Update version and History.txt
      Remove stray `puts`
      Make ls_tree ignore nils

Tom Preston-Werner (4):
      fix dates in history
      dynamic version method
      Version bump to 1.0.2
      Regenerated gemspec for version 1.0.2
</code></pre><p>이렇게 Author를 기준으로 정리한 커밋을 이메일로 전송한다.
ttp://git-scm.com/figures/18333fig0517-tn.png)</p>
<p>그림 5-17. FeatureA에 대한 Rebase가 적용된 후의 모습</p>
<p>브랜치를 Rebase해 버렸기 때문에 Push할 때 -f 옵션을 주고 강제로 기존에 서버에 있던 브랜치의 내용을 덮어 써야 한다. 아니면 새로운 브랜치를(예를 들어 featureAv2) 서버에 Push해도 된다.</p>
<p>또 다른 시나리오를 하나 더 살펴보자. 프로젝트 관리자는 featureB 브랜치의 내용은 좋지만, 상세 구현은 다르게 하고 싶다. 관리자는 featureB 담당자에게 상세구현을 다르게 해달라고 요청한다. featureB 담당자는 하는 김에 featureB 브랜치를 프로젝트의 최신 master 브랜치 기반으로 옮긴다. 먼저 <code>origin/master</code> 브랜치에서 featureBv2 브랜치를 새로 하나 만들고, featureB의 커밋들을 모두 Squash해서 Merge하고, 만약 충돌이 나면 해결하고, 상세 구현을 수정하고, 새 브랜치를 Push한다:</p>
<pre><code>$ git checkout -b featureBv2 origin/master
$ git merge --no-commit --squash featureB
$ (change implementation)
$ git commit
$ git push myfork featureBv2
</code></pre><p>--squash 옵션은 현재 브랜치에 Merge할 때 해당 브랜치의 커밋을 모두 하나의 커밋으로 합쳐서 Merge한다. --no-commit 옵션을 주면 Git은 Merge하고 나서 자동으로 커밋하지 않는다. 다른 브랜치의 수정사항을 통째로 새로운 브랜치에 Merge하고 나서 좀 더 수정하고 커밋 하나를 새로 만든다.</p>
<p>수정을 마치면 관리자에게 featureBv2 브랜치를 확인해 보라고 메시지를 보낸다 (그림 5-18 참고).</p>
<p><img src="http://git-scm.com/figures/18333fig0518-tn.png" alt=""></p>
<p>그림 5-18. featureBv2 브랜치를 커밋한 이후 저장소 모습</p>
<h2 id="-">대규모 공개 프로젝트</h2>
<p>대규모 프로젝트은 보통 수정사항이나 Patch를 수용하는 자신만의 규칙을 마련해놓고 있다. 프로젝트마다 규칙은 서로 다를 수 있으므로 각 프로젝트의 규칙을 미리 알아둘 필요가 있다. 대규모 프로젝트는 대부분 메일링리스트를 통해서 Patch를 받아들이는데 예제를 통해 살펴본다.</p>
<p>토픽 브랜치를 만들어 수정하는 작업은 앞서 살펴본 바와 거의 비슷하지만, Patch를 제출하는 방식이 다르다. 프로젝트를 Fork 하여 Push하는 것이 아니라 커밋 내용을 메일로 만들어 개발자 메일링리스트에 제출한다:</p>
<pre><code>$ git checkout -b topicA
$ (work)
$ git commit
$ (work)
$ git commit
</code></pre><p>커밋을 두 번 하고 메일링리스트에 보내 보자. <code>git format-patch</code> 명령으로 메일링리스트에 보낼 mbox 형식의 파일을 생성한다. 각 커밋은 하나씩 메일 메시지로 생성되는데 커밋 메시지의 첫 번째 줄이 제목이 되고 Merge 메시지 내용과 Patch 자체가 메일 메시지의 본문이 된다. 이 방식은 수신한 이메일에 들어 있는 Patch를 바로 적용할 수 있어서 좋다. 메일 속에는 커밋의 모든 내용이 포함된다. 메일에 포함된 Patch를 적용하는 것은 다음 절에서 살펴본다.</p>
<pre><code>$ git format-patch -M origin/master
0001-add-limit-to-log-function.patch
0002-changed-log-output-to-30-from-25.patch
</code></pre><p>format-patch 명령을 실행하면 생성한 파일 이름을 보여준다. -M 옵션은 이름이 변경된 파일이 있는지 살펴보라는 옵션이다. 각 파일의 내용은 아래와 같다:</p>
<pre><code>$ cat 0001-add-limit-to-log-function.patch
From 330090432754092d704da8e76ca5c05c198e71a8 Mon Sep 17 00:00:00 2001
From: Jessica Smith &lt;jessica@example.com&gt;
Date: Sun, 6 Apr 2008 10:17:23 -0700
Subject: [PATCH 1/2] add limit to log function

Limit log functionality to the first 20

---
 lib/simplegit.rb |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/lib/simplegit.rb b/lib/simplegit.rb
index 76f47bc..f9815f1 100644
--- a/lib/simplegit.rb
+++ b/lib/simplegit.rb
@@ -14,7 +14,7 @@ class SimpleGit
   end

   def log(treeish = &#39;master&#39;)
-    command(&quot;git log #{treeish}&quot;)
+    command(&quot;git log -n 20 #{treeish}&quot;)
   end

   def ls_tree(treeish = &#39;master&#39;)
--
1.6.2.rc1.20.g8c5b.dirty
</code></pre><p>메일링리스트에 메일을 보내기 전에 각 Patch 메일 파일의 내용을 손으로 고칠 수 있다. <code>---</code> 줄과 Patch가 시작되는 줄(<code>lib/simplegit.rb</code>로 시작하는 줄) 사이에 내용을 추가하면 개발자는 읽을 수 있지만, 나중에 Patch에 적용되지는 않는다.</p>
<p>특정 메일 프로그램을 사용하거나 이메일을 보내는 명령어로 메일링리스트에 보낼 수 있다. 붙여 넣기로 위의 내용이 그대로 들어가지 않는 메일 프로그램도 있다. 사용자 편의를 위해 공백이나 줄 바꿈 문자 등을 넣어 주는 메일 프로그램은 원본 그대로 들어가지 않는다.</p>
<p>다행히 Git에는 Patch 메일을 그대로 보낼 수 있는 도구가 있다. IMAP 프로토콜로 보낸다. 저자가 사용하는 방법으로 Gmail을 사용하여 Patch 메일을 전송하는 방법을 살펴보자. 추가로 Git 프로젝트의 <code>Documentation/SubmittingPatches</code> 문서의 마지막 부분을 살펴보면 다양한 메일 프로그램으로 메일을 보내는 방법을 설명한다.</p>
<p>메일을 보내려면 먼저 ~/.gitconfig 파일에서 이메일 부분 설정한다. <code>git config</code> 명령으로 추가할 수도 있고 직접 파일을 열어서 추가할 수도 있다. 아무튼, 아래와 같이 설정을 한다:</p>
<pre><code>[imap]
  folder = &quot;[Gmail]/Drafts&quot;
  host = imaps://imap.gmail.com
  user = user@gmail.com
  pass = p4ssw0rd
  port = 993
  sslverify = false
</code></pre><p>IMAP 서버가 SSL을 사용하지 않으면 마지막 두 줄은 필요 없고 host에서 <code>imaps://</code> 대신 <code>imap://</code>로 한다. 이렇게 설정하면 <code>git send-email</code> 명령으로 메일을 전송할 수 있다:</p>
<pre><code>$ git send-email *.patch
0001-added-limit-to-log-function.patch
0002-changed-log-output-to-30-from-25.patch
Who should the emails appear to be from? [Jessica Smith &lt;jessica@example.com&gt;]
Email’s will be sent from: Jessica Smith &lt;jessica@example.com&gt;
Who should the emails be sent to? jessica@example.com
Message-ID to be used as In-Reply-To for the first email? y
</code></pre><p>Git으로 메일을 보내면 아래와 같은 로그 메시지가 출력된다:</p>
<pre><code>(mbox) Adding cc: Jessica Smith &lt;jessica@example.com&gt; from
  \line &#39;From: Jessica Smith &lt;jessica@example.com&gt;&#39;
OK. Log says:
Sendmail: /usr/sbin/sendmail -i jessica@example.com
From: Jessica Smith &lt;jessica@example.com&gt;
To: jessica@example.com
Subject: [PATCH 1/2] added limit to log function
Date: Sat, 30 May 2009 13:29:15 -0700
Message-Id: &lt;1243715356-61726-1-git-send-email-jessica@example.com&gt;
X-Mailer: git-send-email 1.6.2.rc1.20.g8c5b.dirty
In-Reply-To: &lt;y&gt;
References: &lt;y&gt;

Result: OK
</code></pre><p>이후 Gmail의 Draft 폴더로 가서 To 부분을 메일링리스트의 주소로 변경하고 CC 부분에 해당 메일을 참고해야 하는 관리자나 개발자의 메일 주소를 적고 실제로 전송한다.</p>
<h2 id="-">요약</h2>
<p>이번 절에서는 다양한 Workflow에 따라 Git을 어떻게 사용하는 지 살펴보고 그에 필요한 도구들을 설명했다. 다음 절에서는 동전의 뒷면인 프로젝트를 운영하는 방법에 대하여 살펴본다. 즉 친절한 Dictator나 Integration-Manager가 되어 보는 것이다.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../__git/_.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../__git/.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
