<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Git-атрибуты | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="jmatchett">
        <meta name="description" content="This is a GitBook version of the Scott Chacon&#39;s book: [Pro Git](https://github.com/progit/progit).">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../nastroika_git/perehvatchiki_v_git.html" />
        
        
        <link rel="prev" href="../nastroika_git/konfigurirovanie_git.html" />
        

        <meta property="og:title" content="Git-атрибуты | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/jmatchett">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="jmatchett/git" data-level="1.2" data-basepath=".." data-revision="1398354154484">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/jmatchett/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/jmatchett/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/jmatchett/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/jmatchett" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/jmatchett/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/jmatchett/git/edit/master/nastroika_git/git_atributi.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="nastroika_git/README.html">
                
                <a href="../nastroika_git/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Настройка Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="nastroika_git/konfigurirovanie_git.html">
                            
                            <a href="../nastroika_git/konfigurirovanie_git.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Конфигурирование Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="nastroika_git/git_atributi.html">
                            
                            <a href="../nastroika_git/git_atributi.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Git-атрибуты
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="nastroika_git/perehvatchiki_v_git.html">
                            
                            <a href="../nastroika_git/perehvatchiki_v_git.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Перехватчики в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html">
                            
                            <a href="../nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Пример навязывания политики с помощью Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="nastroika_git/itogi.html">
                            
                            <a href="../nastroika_git/itogi.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="vvedenie/README.html">
                
                <a href="../vvedenie/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Введение
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="vvedenie/o_kontrole_versii.html">
                            
                            <a href="../vvedenie/o_kontrole_versii.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> О контроле версий
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="vvedenie/kratkaya_istoriya_git.html">
                            
                            <a href="../vvedenie/kratkaya_istoriya_git.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Краткая история Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="vvedenie/osnovi_git.html">
                            
                            <a href="../vvedenie/osnovi_git.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Основы Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="vvedenie/ustanovka_git.html">
                            
                            <a href="../vvedenie/ustanovka_git.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Установка Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="vvedenie/pervonachalnaya_nastroika_git.html">
                            
                            <a href="../vvedenie/pervonachalnaya_nastroika_git.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Первоначальная настройка Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="vvedenie/kak_poluchit_pomosch.html">
                            
                            <a href="../vvedenie/kak_poluchit_pomosch.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Как получить помощь?
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="vvedenie/itogi.html">
                            
                            <a href="../vvedenie/itogi.html">
                                <i class="fa fa-check"></i> <b>2.7.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="vetvlenie_v_git/README.html">
                
                <a href="../vetvlenie_v_git/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Ветвление в Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="vetvlenie_v_git/chto_takoe_vetka.html">
                            
                            <a href="../vetvlenie_v_git/chto_takoe_vetka.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Что такое ветка?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html">
                            
                            <a href="../vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Основы ветвления и слияния
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="vetvlenie_v_git/upravlenie_vetkami.html">
                            
                            <a href="../vetvlenie_v_git/upravlenie_vetkami.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Управление ветками
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="vetvlenie_v_git/priyomi_raboti_s_vetkami.html">
                            
                            <a href="../vetvlenie_v_git/priyomi_raboti_s_vetkami.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Приёмы работы с ветками
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="vetvlenie_v_git/udalyonnie_vetki.html">
                            
                            <a href="../vetvlenie_v_git/udalyonnie_vetki.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> Удалённые ветки
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="vetvlenie_v_git/peremeschenie.html">
                            
                            <a href="../vetvlenie_v_git/peremeschenie.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Перемещение
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="vetvlenie_v_git/itogi.html">
                            
                            <a href="../vetvlenie_v_git/itogi.html">
                                <i class="fa fa-check"></i> <b>3.7.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_na_servere/README.html">
                
                <a href="../git_na_servere/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> Git на сервере
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_na_servere/protokoli.html">
                            
                            <a href="../git_na_servere/protokoli.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Протоколы
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_na_servere/nastroika_git_na_servere.html">
                            
                            <a href="../git_na_servere/nastroika_git_na_servere.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Настройка Git на сервере
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_na_servere/sozdanie_otkritogo_ssh_klyucha.html">
                            
                            <a href="../git_na_servere/sozdanie_otkritogo_ssh_klyucha.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Создание открытого SSH-ключа
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_na_servere/nastraivaem_server.html">
                            
                            <a href="../git_na_servere/nastraivaem_server.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> Настраиваем сервер
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_na_servere/otkritii_dostup.html">
                            
                            <a href="../git_na_servere/otkritii_dostup.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Открытый доступ
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_na_servere/gitweb.html">
                            
                            <a href="../git_na_servere/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6.</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_na_servere/gitosis.html">
                            
                            <a href="../git_na_servere/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7.</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_na_servere/gitolite.html">
                            
                            <a href="../git_na_servere/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.8.</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_na_servere/git_demon.html">
                            
                            <a href="../git_na_servere/git_demon.html">
                                <i class="fa fa-check"></i> <b>4.9.</b> Git-демон
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_na_servere/git_hosting.html">
                            
                            <a href="../git_na_servere/git_hosting.html">
                                <i class="fa fa-check"></i> <b>4.10.</b> Git-хостинг
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.11" data-path="git_na_servere/itogi.html">
                            
                            <a href="../git_na_servere/itogi.html">
                                <i class="fa fa-check"></i> <b>4.11.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="raspredelyonnii_git/README.html">
                
                <a href="../raspredelyonnii_git/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> Распределённый Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html">
                            
                            <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Распределённые рабочие процессы
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="raspredelyonnii_git/sodeistvie_proektu.html">
                            
                            <a href="../raspredelyonnii_git/sodeistvie_proektu.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Содействие проекту
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="raspredelyonnii_git/soprovozhdenie_proekta.html">
                            
                            <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Сопровождение проекта
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="raspredelyonnii_git/itogi.html">
                            
                            <a href="../raspredelyonnii_git/itogi.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="instrumenti_git/README.html">
                
                <a href="../instrumenti_git/README.html">
                    <i class="fa fa-check"></i> <b>6.</b> Инструменты Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="instrumenti_git/vibor_revizii.html">
                            
                            <a href="../instrumenti_git/vibor_revizii.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Выбор ревизии
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="instrumenti_git/interaktivnoe_indeksirovanie.html">
                            
                            <a href="../instrumenti_git/interaktivnoe_indeksirovanie.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Интерактивное индексирование
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="instrumenti_git/pryatane.html">
                            
                            <a href="../instrumenti_git/pryatane.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Прятанье
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="instrumenti_git/perezapis_istorii.html">
                            
                            <a href="../instrumenti_git/perezapis_istorii.html">
                                <i class="fa fa-check"></i> <b>6.4.</b> Перезапись истории
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="instrumenti_git/otladka_s_pomoschyu_git.html">
                            
                            <a href="../instrumenti_git/otladka_s_pomoschyu_git.html">
                                <i class="fa fa-check"></i> <b>6.5.</b> Отладка с помощью Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="instrumenti_git/podmoduli.html">
                            
                            <a href="../instrumenti_git/podmoduli.html">
                                <i class="fa fa-check"></i> <b>6.6.</b> Подмодули
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="instrumenti_git/sliyanie_podderevev.html">
                            
                            <a href="../instrumenti_git/sliyanie_podderevev.html">
                                <i class="fa fa-check"></i> <b>6.7.</b> Слияние поддеревьев
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="instrumenti_git/itogi.html">
                            
                            <a href="../instrumenti_git/itogi.html">
                                <i class="fa fa-check"></i> <b>6.8.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="osnovi_git/README.html">
                
                <a href="../osnovi_git/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> Основы Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="osnovi_git/sozdanie_git_repozitoriya.html">
                            
                            <a href="../osnovi_git/sozdanie_git_repozitoriya.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Создание Git-репозитория
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="osnovi_git/zapis_izmenenii_v_repozitorii.html">
                            
                            <a href="../osnovi_git/zapis_izmenenii_v_repozitorii.html">
                                <i class="fa fa-check"></i> <b>7.2.</b> Запись изменений в репозиторий
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="osnovi_git/prosmotr_istorii_kommitov.html">
                            
                            <a href="../osnovi_git/prosmotr_istorii_kommitov.html">
                                <i class="fa fa-check"></i> <b>7.3.</b> Просмотр истории коммитов
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="osnovi_git/otmena_izmenenii.html">
                            
                            <a href="../osnovi_git/otmena_izmenenii.html">
                                <i class="fa fa-check"></i> <b>7.4.</b> Отмена изменений
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html">
                            
                            <a href="../osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html">
                                <i class="fa fa-check"></i> <b>7.5.</b> Работа с удалёнными репозиториями
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="osnovi_git/rabota_s_metkami.html">
                            
                            <a href="../osnovi_git/rabota_s_metkami.html">
                                <i class="fa fa-check"></i> <b>7.6.</b> Работа с метками
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.7" data-path="osnovi_git/poleznie_soveti.html">
                            
                            <a href="../osnovi_git/poleznie_soveti.html">
                                <i class="fa fa-check"></i> <b>7.7.</b> Полезные советы
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.8" data-path="osnovi_git/itogi.html">
                            
                            <a href="../osnovi_git/itogi.html">
                                <i class="fa fa-check"></i> <b>7.8.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_i_drugie_sistemi_kontrolya_versii/README.html">
                
                <a href="../git_i_drugie_sistemi_kontrolya_versii/README.html">
                    <i class="fa fa-check"></i> <b>8.</b> Git и другие системы контроля версий
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1.</b> Git и Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html">
                                <i class="fa fa-check"></i> <b>8.2.</b> Миграция на Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_i_drugie_sistemi_kontrolya_versii/itogi.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/itogi.html">
                                <i class="fa fa-check"></i> <b>8.3.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="git_iznutri/README.html">
                
                <a href="../git_iznutri/README.html">
                    <i class="fa fa-check"></i> <b>9.</b> Git изнутри
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="git_iznutri/santehnika_i_farfor.html">
                            
                            <a href="../git_iznutri/santehnika_i_farfor.html">
                                <i class="fa fa-check"></i> <b>9.1.</b> Сантехника и фарфор
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="git_iznutri/obekti_v_git.html">
                            
                            <a href="../git_iznutri/obekti_v_git.html">
                                <i class="fa fa-check"></i> <b>9.2.</b> Объекты в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="git_iznutri/ssilki_v_git.html">
                            
                            <a href="../git_iznutri/ssilki_v_git.html">
                                <i class="fa fa-check"></i> <b>9.3.</b> Ссылки в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="git_iznutri/pack_faili.html">
                            
                            <a href="../git_iznutri/pack_faili.html">
                                <i class="fa fa-check"></i> <b>9.4.</b> Pack-файлы
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="git_iznutri/spetsifikatsii_ssilok.html">
                            
                            <a href="../git_iznutri/spetsifikatsii_ssilok.html">
                                <i class="fa fa-check"></i> <b>9.5.</b> Спецификации ссылок
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="git_iznutri/protokoli_peredachi.html">
                            
                            <a href="../git_iznutri/protokoli_peredachi.html">
                                <i class="fa fa-check"></i> <b>9.6.</b> Протоколы передачи
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html">
                            
                            <a href="../git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html">
                                <i class="fa fa-check"></i> <b>9.7.</b> Обслуживание и восстановление данных
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="git_iznutri/itogi.html">
                            
                            <a href="../git_iznutri/itogi.html">
                                <i class="fa fa-check"></i> <b>9.8.</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 4.285714285714286%;min-width: 2.857142857142857%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../nastroika_git/README.html" title="Настройка Git" class="chapter done new-chapter" data-progress="1" style="left: 1.4285714285714286%;"></a>
    
        <a href="../nastroika_git/konfigurirovanie_git.html" title="Конфигурирование Git" class="chapter done " data-progress="1.1" style="left: 2.857142857142857%;"></a>
    
        <a href="../nastroika_git/git_atributi.html" title="Git-атрибуты" class="chapter done " data-progress="1.2" style="left: 4.285714285714286%;"></a>
    
        <a href="../nastroika_git/perehvatchiki_v_git.html" title="Перехватчики в Git" class="chapter  " data-progress="1.3" style="left: 5.714285714285714%;"></a>
    
        <a href="../nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html" title="Пример навязывания политики с помощью Git" class="chapter  " data-progress="1.4" style="left: 7.142857142857143%;"></a>
    
        <a href="../nastroika_git/itogi.html" title="Итоги" class="chapter  " data-progress="1.5" style="left: 8.571428571428571%;"></a>
    
        <a href="../vvedenie/README.html" title="Введение" class="chapter  new-chapter" data-progress="2" style="left: 10%;"></a>
    
        <a href="../vvedenie/o_kontrole_versii.html" title="О контроле версий" class="chapter  " data-progress="2.1" style="left: 11.428571428571429%;"></a>
    
        <a href="../vvedenie/kratkaya_istoriya_git.html" title="Краткая история Git" class="chapter  " data-progress="2.2" style="left: 12.857142857142858%;"></a>
    
        <a href="../vvedenie/osnovi_git.html" title="Основы Git" class="chapter  " data-progress="2.3" style="left: 14.285714285714286%;"></a>
    
        <a href="../vvedenie/ustanovka_git.html" title="Установка Git" class="chapter  " data-progress="2.4" style="left: 15.714285714285714%;"></a>
    
        <a href="../vvedenie/pervonachalnaya_nastroika_git.html" title="Первоначальная настройка Git" class="chapter  " data-progress="2.5" style="left: 17.142857142857142%;"></a>
    
        <a href="../vvedenie/kak_poluchit_pomosch.html" title="Как получить помощь?" class="chapter  " data-progress="2.6" style="left: 18.571428571428573%;"></a>
    
        <a href="../vvedenie/itogi.html" title="Итоги" class="chapter  " data-progress="2.7" style="left: 20%;"></a>
    
        <a href="../vetvlenie_v_git/README.html" title="Ветвление в Git" class="chapter  new-chapter" data-progress="3" style="left: 21.428571428571427%;"></a>
    
        <a href="../vetvlenie_v_git/chto_takoe_vetka.html" title="Что такое ветка?" class="chapter  " data-progress="3.1" style="left: 22.857142857142858%;"></a>
    
        <a href="../vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html" title="Основы ветвления и слияния" class="chapter  " data-progress="3.2" style="left: 24.285714285714285%;"></a>
    
        <a href="../vetvlenie_v_git/upravlenie_vetkami.html" title="Управление ветками" class="chapter  " data-progress="3.3" style="left: 25.714285714285715%;"></a>
    
        <a href="../vetvlenie_v_git/priyomi_raboti_s_vetkami.html" title="Приёмы работы с ветками" class="chapter  " data-progress="3.4" style="left: 27.142857142857142%;"></a>
    
        <a href="../vetvlenie_v_git/udalyonnie_vetki.html" title="Удалённые ветки" class="chapter  " data-progress="3.5" style="left: 28.571428571428573%;"></a>
    
        <a href="../vetvlenie_v_git/peremeschenie.html" title="Перемещение" class="chapter  " data-progress="3.6" style="left: 30%;"></a>
    
        <a href="../vetvlenie_v_git/itogi.html" title="Итоги" class="chapter  " data-progress="3.7" style="left: 31.428571428571427%;"></a>
    
        <a href="../git_na_servere/README.html" title="Git на сервере" class="chapter  new-chapter" data-progress="4" style="left: 32.857142857142854%;"></a>
    
        <a href="../git_na_servere/protokoli.html" title="Протоколы" class="chapter  " data-progress="4.1" style="left: 34.285714285714285%;"></a>
    
        <a href="../git_na_servere/git_hosting.html" title="Git-хостинг" class="chapter  " data-progress="4.10" style="left: 35.714285714285715%;"></a>
    
        <a href="../git_na_servere/itogi.html" title="Итоги" class="chapter  " data-progress="4.11" style="left: 37.142857142857146%;"></a>
    
        <a href="../git_na_servere/nastroika_git_na_servere.html" title="Настройка Git на сервере" class="chapter  " data-progress="4.2" style="left: 38.57142857142857%;"></a>
    
        <a href="../git_na_servere/sozdanie_otkritogo_ssh_klyucha.html" title="Создание открытого SSH-ключа" class="chapter  " data-progress="4.3" style="left: 40%;"></a>
    
        <a href="../git_na_servere/nastraivaem_server.html" title="Настраиваем сервер" class="chapter  " data-progress="4.4" style="left: 41.42857142857143%;"></a>
    
        <a href="../git_na_servere/otkritii_dostup.html" title="Открытый доступ" class="chapter  " data-progress="4.5" style="left: 42.857142857142854%;"></a>
    
        <a href="../git_na_servere/gitweb.html" title="GitWeb" class="chapter  " data-progress="4.6" style="left: 44.285714285714285%;"></a>
    
        <a href="../git_na_servere/gitosis.html" title="Gitosis" class="chapter  " data-progress="4.7" style="left: 45.714285714285715%;"></a>
    
        <a href="../git_na_servere/gitolite.html" title="Gitolite" class="chapter  " data-progress="4.8" style="left: 47.142857142857146%;"></a>
    
        <a href="../git_na_servere/git_demon.html" title="Git-демон" class="chapter  " data-progress="4.9" style="left: 48.57142857142857%;"></a>
    
        <a href="../raspredelyonnii_git/README.html" title="Распределённый Git" class="chapter  new-chapter" data-progress="5" style="left: 50%;"></a>
    
        <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html" title="Распределённые рабочие процессы" class="chapter  " data-progress="5.1" style="left: 51.42857142857143%;"></a>
    
        <a href="../raspredelyonnii_git/sodeistvie_proektu.html" title="Содействие проекту" class="chapter  " data-progress="5.2" style="left: 52.857142857142854%;"></a>
    
        <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html" title="Сопровождение проекта" class="chapter  " data-progress="5.3" style="left: 54.285714285714285%;"></a>
    
        <a href="../raspredelyonnii_git/itogi.html" title="Итоги" class="chapter  " data-progress="5.4" style="left: 55.714285714285715%;"></a>
    
        <a href="../instrumenti_git/README.html" title="Инструменты Git" class="chapter  new-chapter" data-progress="6" style="left: 57.142857142857146%;"></a>
    
        <a href="../instrumenti_git/vibor_revizii.html" title="Выбор ревизии" class="chapter  " data-progress="6.1" style="left: 58.57142857142857%;"></a>
    
        <a href="../instrumenti_git/interaktivnoe_indeksirovanie.html" title="Интерактивное индексирование" class="chapter  " data-progress="6.2" style="left: 60%;"></a>
    
        <a href="../instrumenti_git/pryatane.html" title="Прятанье" class="chapter  " data-progress="6.3" style="left: 61.42857142857143%;"></a>
    
        <a href="../instrumenti_git/perezapis_istorii.html" title="Перезапись истории" class="chapter  " data-progress="6.4" style="left: 62.857142857142854%;"></a>
    
        <a href="../instrumenti_git/otladka_s_pomoschyu_git.html" title="Отладка с помощью Git" class="chapter  " data-progress="6.5" style="left: 64.28571428571429%;"></a>
    
        <a href="../instrumenti_git/podmoduli.html" title="Подмодули" class="chapter  " data-progress="6.6" style="left: 65.71428571428571%;"></a>
    
        <a href="../instrumenti_git/sliyanie_podderevev.html" title="Слияние поддеревьев" class="chapter  " data-progress="6.7" style="left: 67.14285714285714%;"></a>
    
        <a href="../instrumenti_git/itogi.html" title="Итоги" class="chapter  " data-progress="6.8" style="left: 68.57142857142857%;"></a>
    
        <a href="../osnovi_git/README.html" title="Основы Git" class="chapter  new-chapter" data-progress="7" style="left: 70%;"></a>
    
        <a href="../osnovi_git/sozdanie_git_repozitoriya.html" title="Создание Git-репозитория" class="chapter  " data-progress="7.1" style="left: 71.42857142857143%;"></a>
    
        <a href="../osnovi_git/zapis_izmenenii_v_repozitorii.html" title="Запись изменений в репозиторий" class="chapter  " data-progress="7.2" style="left: 72.85714285714286%;"></a>
    
        <a href="../osnovi_git/prosmotr_istorii_kommitov.html" title="Просмотр истории коммитов" class="chapter  " data-progress="7.3" style="left: 74.28571428571429%;"></a>
    
        <a href="../osnovi_git/otmena_izmenenii.html" title="Отмена изменений" class="chapter  " data-progress="7.4" style="left: 75.71428571428571%;"></a>
    
        <a href="../osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html" title="Работа с удалёнными репозиториями" class="chapter  " data-progress="7.5" style="left: 77.14285714285714%;"></a>
    
        <a href="../osnovi_git/rabota_s_metkami.html" title="Работа с метками" class="chapter  " data-progress="7.6" style="left: 78.57142857142857%;"></a>
    
        <a href="../osnovi_git/poleznie_soveti.html" title="Полезные советы" class="chapter  " data-progress="7.7" style="left: 80%;"></a>
    
        <a href="../osnovi_git/itogi.html" title="Итоги" class="chapter  " data-progress="7.8" style="left: 81.42857142857143%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/README.html" title="Git и другие системы контроля версий" class="chapter  new-chapter" data-progress="8" style="left: 82.85714285714286%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html" title="Git и Subversion" class="chapter  " data-progress="8.1" style="left: 84.28571428571429%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html" title="Миграция на Git" class="chapter  " data-progress="8.2" style="left: 85.71428571428571%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/itogi.html" title="Итоги" class="chapter  " data-progress="8.3" style="left: 87.14285714285714%;"></a>
    
        <a href="../git_iznutri/README.html" title="Git изнутри" class="chapter  new-chapter" data-progress="9" style="left: 88.57142857142857%;"></a>
    
        <a href="../git_iznutri/santehnika_i_farfor.html" title="Сантехника и фарфор" class="chapter  " data-progress="9.1" style="left: 90%;"></a>
    
        <a href="../git_iznutri/obekti_v_git.html" title="Объекты в Git" class="chapter  " data-progress="9.2" style="left: 91.42857142857143%;"></a>
    
        <a href="../git_iznutri/ssilki_v_git.html" title="Ссылки в Git" class="chapter  " data-progress="9.3" style="left: 92.85714285714286%;"></a>
    
        <a href="../git_iznutri/pack_faili.html" title="Pack-файлы" class="chapter  " data-progress="9.4" style="left: 94.28571428571429%;"></a>
    
        <a href="../git_iznutri/spetsifikatsii_ssilok.html" title="Спецификации ссылок" class="chapter  " data-progress="9.5" style="left: 95.71428571428571%;"></a>
    
        <a href="../git_iznutri/protokoli_peredachi.html" title="Протоколы передачи" class="chapter  " data-progress="9.6" style="left: 97.14285714285714%;"></a>
    
        <a href="../git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html" title="Обслуживание и восстановление данных" class="chapter  " data-progress="9.7" style="left: 98.57142857142857%;"></a>
    
        <a href="../git_iznutri/itogi.html" title="Итоги" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_734">
                    
                        <h1 id="git-">Git-атрибуты</h1>
<p>Некоторые настройки могут быть заданы для отдельных путей, и тогда Git будет применять их только для некоторых подкаталогов или набора файлов. Такие настройки, специфичные по отношению к путям, называются атрибутами и задаются либо в файле <code>.gitattributes</code> в одном из каталогов проекта (обычно в корне), либо в файле <code>.git/info/attributes</code>, если вы не хотите, чтобы файл с атрибутами попал в коммит вместе с остальными файлами проекта.</p>
<p>Использование атрибутов позволяет, например, задать разные стратегии слияния для отдельных файлов или каталогов проекта, или объяснить Git&#39;у, как сравнивать нетекстовые файлы, или сделать так, чтобы Git пропускал данные через фильтр перед тем, как выгрузить или записать данные в репозиторий. В этом разделе мы рассмотрим некоторые из доступных в Git&#39;е атрибутов и рассмотрим несколько практических примеров их использования.</p>
<h2 id="-">Бинарные файлы</h2>
<p>Есть один клёвый трюк, для которого можно использовать атрибуты — можно указать Git&#39;у, какие файлы являются бинарными (в случае если по-другому определить это не получается), и дать ему специальные инструкции о том, как с этими файлами работать. Например, некоторые текстовые файлы могут быть машинными — генерируемыми программой — для них нет смысла вычислять дельты, в то время как для некоторых бинарных файлов получение дельт может быть полезным. Дальше мы увидим, как сказать Git&#39;у, какие файлы какие.</p>
<h3 id="-">Определение бинарных файлов</h3>
<p>Некоторые файлы выглядят как текстовые, но по существу должны рассматриваться как бинарные данные. Например, проекты Xcode на Mac&#39;ах содержат файл, оканчивающийся на <code>.pbxproj</code>, который, по сути, является набором JSON-данных (текстовый формат данных для javascript), записываемым IDE, в котором сохраняются ваши настройки сборки и прочее. Хоть технически это и текстовый файл, потому что содержит только ASCII-символы, но нет смысла рассматривать его как таковой, потому что на самом деле это легковесная база данных — вы не сможете слить её содержимое, если два человека внесут в неё изменение, получение дельт тоже, как правило, ничем вам не поможет. Этот файл предназначается для обработки программой. По сути, лучше рассматривать этот файл как бинарный.</p>
<p>Чтобы заставить Git обращаться со всеми <code>pbxproj</code>-файлами как с бинарными, добавьте следующую строку в файл <code>.gitattributes</code>:</p>
<pre><code>*.pbxproj -crlf -diff
</code></pre><p>Теперь Git не будет пытаться конвертировать CRLF-концы строк или исправлять проблемы с ними. Также он не будет пытаться получить дельту для изменений в этом файле при запуске <code>git show</code> или <code>git diff</code> в вашем проекте. В Git&#39;е есть предустановленный макрос <code>binary</code>, который означает то же, что и <code>-crlf -diff</code>:</p>
<pre><code>*.pbxproj binary
</code></pre><h3 id="-">Получение дельты для бинарных файлов</h3>
<p>Функциональность атрибутов Git&#39;а может быть использована для эффективного получения дельт бинарных файлов. Сделать это можно, объяснив Git&#39;у, как сконвертировать ваши бинарные данные в текстовый формат, для которого можно выполнить сравнение с помощью обычного diff. Осталось только понять, как получить текстовое представление для <em>бинарных</em> данных. Идеальный вариант — найти подходящую утилиту для конвертирования нужного формата в текстовый вид. Но, к сожалению, получить хорошее текстовое представление можно только для весьма ограниченного набора бинарных форматов. Для большинства же бинарных форматов, например, для графических или аудио данных, получить читаемый текстовый вид не представляется возможным. Но если мы не можем получить текстовое представление содержимого, мы зачастую можем получить читаемое описание содержимого или метаданные. Метаданные не дают полное представление о содержимом файле, но, во всяком случае, это лучше чем ничего.</p>
<p>Далее мы рассмотрим оба подхода на примерах популярных бинарных форматов.</p>
<p>Замечание: Существуют разные виды бинарных файлов с текстовым содержимым, для которых вам, может быть, не удастся найти подходящий конвёртер. В данном случае вы можете попробовать вытащить текст с помощью утилиты <code>strings</code>. Некоторые из таких файлов могут использовать кодировку UTF-16 или могут быть написаны не в латинице, в таких файлах <code>strings</code> не найдёт ничего хорошего. Полезность <code>strings</code> может сильно варьироваться. Тем не менее, <code>strings</code> доступен на большинстве Mac- и Linux-систем, так что он может быть хорошим первым вариантом для того, чтобы сделать подобное со многими бинарными форматами.</p>
<h4 id="-ms-word">Документы MS Word</h4>
<p>Для начала мы используем описанный подход, чтобы решить одну из самых раздражающих проблем, известных человечеству: версионный контроль документов Word. Всем известно, что Word — это самый ужасающий из всех существующих редакторов, но, как ни странно, все им пользуются. Если вы хотите поместить документы Word под версионный контроль, вы можете запихнуть их в Git-репозиторий и время от времени делать коммиты. Но что в этом хорошего? Если вы запустите <code>git diff</code> как обычно, то увидите только что-то наподобие этого:</p>
<pre><code>$ git diff 
diff --git a/chapter1.doc b/chapter1.doc
index 88839c4..4afcb7c 100644
Binary files a/chapter1.doc and b/chapter1.doc differ
</code></pre><p>У вас не получится сравнить две версии между собой, только если вы не выгрузите их обе и просмотрите их вручную, так? Оказывается, можно сделать это достаточно успешно, используя атрибуты Git&#39;а. Поместите следующую строку в свой файл <code>.gitattributes</code>:</p>
<pre><code>*.doc diff=word
</code></pre><p>Она говорит Git&#39;у, что все файлы, соответствующие указанному шаблону (.doc) должны использовать фильтр &quot;word&quot; при попытке посмотреть дельту с изменениями. Что такое фильтр &quot;word&quot;? Нам нужно его изготовить. Сейчас мы настроим Git на использование программы <code>catdoc</code>, специально написанной для того, чтобы вытаскивать текстовую информацию из бинарных документов MS Word (скачать её можно по адресу <code>http://www.45.free.net/~vitus/software/catdoc/</code>), для конвертирования документов Word в читаемые текстовые файлы, которые Git затем правильно сравнит:</p>
<pre><code>$ git config diff.word.textconv catdoc
</code></pre><p>Этой командой в свой <code>.git/config</code> вы добавите следующую секцию:</p>
<pre><code>[diff &quot;word&quot;]
    textconv = catdoc
</code></pre><p>Теперь Git знает, что если ему надо найти дельту между двумя снимками состояния, и какие-то их файлы заканчиваются на <code>.doc</code>, он должен прогнать эти файлы через фильтр &quot;word&quot;, который определён как программа <code>catdoc</code>. Так вы фактически сделаете текстовые версии своих Word-файлов перед тем, как получить для них дельту.</p>
<p>Рассмотрим пример. Я поместил главу 1 настоящей книги в Git, добавил немного текста в один параграф и сохранил документ. Затем я выполнил <code>git diff</code>, чтобы увидеть, что изменилось:</p>
<pre><code>$ git diff
diff --git a/chapter1.doc b/chapter1.doc
index c1c8a0a..b93c9e4 100644
--- a/chapter1.doc
+++ b/chapter1.doc
@@ -128,7 +128,7 @@ and data size)
 Since its birth in 2005, Git has evolved and matured to be easy to use
 and yet retain these initial qualities. It’s incredibly fast, it’s
 very efficient with large projects, and it has an incredible branching
-system for non-linear development.
+system for non-linear development (See Chapter 3).
</code></pre><p>Git коротко и ясно дал мне знать, что я добавил строку &quot;(See Chapter 3)&quot;, так оно и есть. Работает идеально.</p>
<h4 id="-opendocument">Текстовые файлы в формате OpenDocument</h4>
<p>Тот же подход, который мы использовали для файлов MS Word (<code>*.doc</code>), может быть использован и для текстовых файлов в формате OpenDocument, созданных в OpenOffice.org.</p>
<p>Добавим следующую строку в файл <code>.gitattributes</code>:</p>
<pre><code>*.odt diff=odt
</code></pre><p>Теперь настроим фильтр <code>odt</code> в <code>.git/config</code>:</p>
<pre><code>[diff &quot;odt&quot;]
    binary = true
    textconv = /usr/local/bin/odt-to-txt
</code></pre><p>Файлы в формате OpenDocument на самом деле являются запакованными zip&#39;ом каталогами с множеством файлов (содержимое в XML-формате, таблицы стилей, изображения и т.д.). Мы напишем свой сценарий для извлечения содержимого и вывода его в виде обычного текста. Создайте файл <code>/usr/local/bin/odt-to-txt</code> (можете создать его в любом другом каталоге) со следующим содержимым:</p>
<pre><code>#! /usr/bin/env perl
# Сценарий для конвертации OpenDocument Text (.odt) в обычный текст.
# Автор: Philipp Kempgen

if (! defined($ARGV[0])) {
    print STDERR &quot;Не задано имя файла!\n&quot;;
    print STDERR &quot;Использование: $0 имя файла\n&quot;;
    exit 1;
}

my $content = &#39;&#39;;
open my $fh, &#39;-|&#39;, &#39;unzip&#39;, &#39;-qq&#39;, &#39;-p&#39;, $ARGV[0], &#39;content.xml&#39; or die $!;
{
    local $/ = undef;  # считываем файл целиком
    $content = &lt;$fh&gt;;
}
close $fh;
$_ = $content;
s/&lt;text:span\b[^&gt;]*&gt;//g;           # удаляем span&#39;ы
s/&lt;text:h\b[^&gt;]*&gt;/\n\n*****  /g;   # заголовки
s/&lt;text:list-item\b[^&gt;]*&gt;\s*&lt;text:p\b[^&gt;]*&gt;/\n    --  /g;  # элементы списков
s/&lt;text:list\b[^&gt;]*&gt;/\n\n/g;       # списки
s/&lt;text:p\b[^&gt;]*&gt;/\n  /g;          # параграфы
s/&lt;[^&gt;]+&gt;//g;                      # удаляем все XML-теги
s/\n{2,}/\n\n/g;                   # удаляем подряд идущие пустые строки
s/\A\n+//;                         # удаляем пустые строки в начале
print &quot;\n&quot;, $_, &quot;\n\n&quot;;
</code></pre><p>Сделайте его исполняемым</p>
<pre><code>chmod +x /usr/local/bin/odt-to-txt
</code></pre><p>Теперь <code>git diff</code> сможет сказать вам, что изменилось в <code>.odt</code> файлах.</p>
<h4 id="-">Изображения</h4>
<p>Ещё одна интересная проблема, которую можно решить таким способом, это сравнение файлов изображений. Один из способов сделать это — прогнать PNG-файлы через фильтр, извлекающий их EXIF-информацию — метаданные, которые дописываются в большинство форматов изображений. Если скачаете и установите программу <code>exiftool</code>, то сможете воспользоваться ею, чтобы извлечь из изображений текстовую информацию о метаданных, так чтобы diff хоть как-то показал вам текстовое представление произошедших изменений:</p>
<pre><code>$ echo &#39;*.png diff=exif&#39; &gt;&gt; .gitattributes
$ git config diff.exif.textconv exiftool
</code></pre><p>Если вы замените в проекте изображение и запустите <code>git diff</code>, то получите что-то вроде такого:</p>
<pre><code>diff --git a/image.png b/image.png
index 88839c4..4afcb7c 100644
--- a/image.png
+++ b/image.png
@@ -1,12 +1,12 @@
 ExifTool Version Number         : 7.74
-File Size                       : 70 kB
-File Modification Date/Time     : 2009:04:17 10:12:35-07:00
+File Size                       : 94 kB
+File Modification Date/Time     : 2009:04:21 07:02:43-07:00
 File Type                       : PNG
 MIME Type                       : image/png
-Image Width                     : 1058
-Image Height                    : 889
+Image Width                     : 1056
+Image Height                    : 827
 Bit Depth                       : 8
 Color Type                      : RGB with Alpha
</code></pre><p>Легко можно заметить, что размер файла, а также высота и ширина изображения поменялись.</p>
<h2 id="-">Развёртывание ключа</h2>
<p>Разработчики, привыкшие к SVN или CVS, часто хотят получить в Git&#39;е возможность развёртывания ключа в стиле этих систем. Основная проблема с реализацией этой функциональности в Git&#39;е это то, что нельзя записать в файл информацию о коммите после того, как коммит был сделан, так как Git сначала считает контрольную сумму для файла. Несмотря на это, вы можете вставлять текст в файл во время его выгрузки и удалять его перед добавлением в коммит. Атрибуты Git&#39;а предлагают два варианта сделать это.</p>
<p>Во-первых, вы можете внедрять SHA-1-сумму блоба в поле <code>$Id$</code> в файл автоматически. Если установить соответствующий атрибут для одного или нескольких файлов, то в следующий раз, когда вы будете выгружать данные из этой ветки, Git будет заменять это поле SHA-суммой блоба. Обратите внимание, что это SHA-1 не коммита, а самого блоба.</p>
<pre><code>$ echo &#39;*.txt ident&#39; &gt;&gt; .gitattributes
$ echo &#39;$Id$&#39; &gt; test.txt
$ git add test.txt
</code></pre><p>В следующий раз, когда вы будете выгружать этот файл, Git автоматически вставит в него SHA его блоба:</p>
<pre><code>$ rm test.txt
$ git checkout -- test.txt
$ cat test.txt 
$Id: 42812b7653c7b88933f8a9d6cad0ca16714b9bb3 $
</code></pre><p>Однако, такой результат мало применим. Если вы раньше пользовались развёртыванием ключа в CVS или Subversion, можете добавлять метку даты — SHA не особенно полезен, так как он довольно случаен, и к тому же, глядя на две SHA-суммы, никак не определить какая из них новее.</p>
<p>Как оказывается, можно написать свои собственные фильтры, которые будут делать подстановки в файлах при коммитах и выгрузке файлов. Для этого надо задать фильтры &quot;clean&quot; и &quot;smudge&quot;. В файле <code>.gitattributes</code> можно задать фильтр для определённых путей и затем установить сценарии, которые будут обрабатывать файлы непосредственно перед выгрузкой (&quot;smudge&quot;, см. рис. 7-2) и прямо перед коммитом (&quot;clean&quot;, см. рис. 7-3). Эти фильтры можно настроить на совершение абсолютно любых действий.</p>
<p><img src="http://git-scm.com/figures/18333fig0702-tn.png" alt=""></p>
<p>Рисунок 7-2. Фильтр “smudge” выполняется при checkout.</p>
<p><img src="http://git-scm.com/figures/18333fig0703-tn.png" alt=""></p>
<p>Рисунок 7-3. Фильтр “clean” выполняется при помещении файлов в индекс.</p>
<p>В сообщении первоначального коммита, добавляющего эту функциональность, дан простой пример того, как можно пропустить весь свой исходный код на C через программу <code>indent</code> перед коммитом. Сделать это можно, задав атрибут filter в файле <code>.gitattributes</code> так, чтобы он пропускал файлы <code>*.c</code> через фильтр &quot;indent&quot;:</p>
<pre><code>*.c     filter=indent
</code></pre><p>Затем укажите Git&#39;у, что должен делать фильтр &quot;indent&quot; при smudge и clean:</p>
<pre><code>$ git config --global filter.indent.clean indent
$ git config --global filter.indent.smudge cat
</code></pre><p>В нашем случае, когда вы будете делать коммит, содержащий файлы, соответствующие шаблону <code>*.c</code>, Git прогонит их через программу <code>indent</code> перед коммитом, а потом через программу <code>cat</code> перед тем как выгрузить их на диск. Программа <code>cat</code>, по сути, является холостой — она выдаёт те же данные, которые получила. Фактически эта комбинация профильтровывает все файлы с исходным кодом на C через <code>indent</code> перед тем, как сделать коммит.</p>
<p>Ещё один интересный пример — это развёртывание ключа <code>$Date$</code> в стиле RCS. Чтобы сделать его правильно, нам понадобится небольшой сценарий, который принимает на вход имя файла, определяет дату последнего коммита в проекте и вставляет эту дату в наш файл. Вот небольшой сценарий на Ruby, который делает именно это:</p>
<pre><code>#! /usr/bin/env ruby
data = STDIN.read
last_date = `git log --pretty=format:&quot;%ad&quot; -1`
puts data.gsub(&#39;$Date$&#39;, &#39;$Date: &#39; + last_date.to_s + &#39;$&#39;)
</code></pre><p>Всё, что делает этот сценарий, это получает дату последнего коммита с помощью команды <code>git log</code>, засовывает её во все строки <code>$Date$</code>, которые видит в stdin, и выводит результат — такое должно быть несложно реализовать на любом удобном вам языке. Давайте назовём этот файл <code>expand_date</code> и поместим в путь. Теперь в Git&#39;е необходимо настроить фильтр (назовём его <code>dater</code>) и указать, что надо использовать фильтр <code>expand_date</code> при выполнении smudge во время выгрузки файлов. Воспользуемся регулярным выражением Perl, чтобы убрать изменения при коммите:</p>
<pre><code>$ git config filter.dater.smudge expand_date
$ git config filter.dater.clean &#39;perl -pe &quot;s/\\\$Date[^\\\$]*\\\$/\\\$Date\\\$/&quot;&#39;
</code></pre><p>Этот фрагмент кода на Perl&#39;е вырезает всё, что находит в строке <code>$Date$</code> так, чтобы вернуть всё в начальное состояние. Теперь, когда наш фильтр готов, можете протестировать его, создав файл с ключом <code>$Date$</code> и установив для этого файла Git-атрибут, который задействует для него новый фильтр:</p>
<pre><code>$ echo &#39;# $Date$&#39; &gt; date_test.txt
$ echo &#39;date*.txt filter=dater&#39; &gt;&gt; .gitattributes
</code></pre><p>Если мы сейчас добавим эти изменения в коммит и снова выгрузим файл, то мы увидим, что ключевое слово было заменено правильно:</p>
<pre><code>$ git add date_test.txt .gitattributes
$ git commit -m &quot;Testing date expansion in Git&quot;
$ rm date_test.txt
$ git checkout date_test.txt
$ cat date_test.txt
# $Date: Tue Apr 21 07:26:52 2009 -0700$
</code></pre><p>Как видите, такая техника может быть весьма мощной для настройки проекта под свои нужды. Но вы должны быть осторожны, ибо файл <code>.gitattributes</code> вы добавите в коммит и будете его распространять вместе с проектом, а драйвер (в нашем случае <code>dater</code>) — нет. Так что не везде оно будет работать. Когда будете проектировать свои фильтры, постарайтесь сделать так, чтобы при возникновении в них ошибки проект не переставал работать правильно.</p>
<h2 id="-">Экспорт репозитория</h2>
<p>Ещё атрибуты в Git&#39;е позволяют делать некоторые интересные вещи при экспортировании архива с проектом.</p>
<h3 id="export-ignore">export-ignore</h3>
<p>Вы можете попросить Git не экспортировать определённые файлы и каталоги при создании архива. Если у вас есть подкаталог или файл, который вы не желаете включать в архив, но хотите, чтобы в проекте он был, можете установить для такого файла атрибут <code>export-ignore</code>.</p>
<p>Например, скажем, у вас в подкаталоге <code>test/</code> имеются некоторые тестовые файлы, и нет никакого смысла добавлять их в тарбол при экспорте проекта. Тогда добавим следующую строку в файл с Git-атрибутами:</p>
<pre><code>test/ export-ignore
</code></pre><p>Теперь, если вы запустите <code>git archive</code>, чтобы создать тарбол с проектом, этот каталог в архив включён не будет.</p>
<h3 id="export-subst">export-subst</h3>
<p>Ещё одна вещь, которую можно сделать с архивами, — это сделать какую-нибудь простую подстановку ключевых слов. Git позволяет добавить в любой файл строку вида <code>$Format:$</code> с любыми кодами форматирования, доступными в <code>--pretty=format</code> (многие из этих кодов мы рассматривали в главе 2). Например, если вам захотелось добавить в проект файл с именем <code>LAST_COMMIT</code>, в который при запуске <code>git archive</code> будет автоматически помещаться дата последнего коммита, то такой файл вы можете сделать следующим образом:</p>
<pre><code>$ echo &#39;Last commit date: $Format:%cd$&#39; &gt; LAST_COMMIT
$ echo &quot;LAST_COMMIT export-subst&quot; &gt;&gt; .gitattributes
$ git add LAST_COMMIT .gitattributes
$ git commit -am &#39;adding LAST_COMMIT file for archives&#39;
</code></pre><p>После запуска <code>git archive</code> этот файл у вас в архиве будет иметь содержимое следующего вида:</p>
<pre><code>$ cat LAST_COMMIT
Last commit date: $Format:Tue Apr 21 08:38:48 2009 -0700$
</code></pre><h2 id="-">Стратегии слияния</h2>
<p>Атрибуты Git&#39;а могут также быть использованы для того, чтобы попросить Git использовать другие стратегии слияния для определённых файлов в проекте. Одна очень полезная возможность — это сказать Git&#39;у, чтобы он не пытался слить некоторые файлы, если для них есть конфликт, а просто выбрал ваш вариант, предпочтя его чужому.</p>
<p>Это полезно в том случае, если ветка в вашем проекте разошлась с исходной, но вам всё же хотелось бы иметь возможность слить изменения из неё обратно, проигнорировав некоторые файлы. Скажем, у вас есть файл с настройками базы данных, который называется database.xml, и в двух ветках он разный, и вы хотите влить другую свою ветку, не трогая файл с настройками базы данных. Задайте атрибут следующим образом:</p>
<pre><code>database.xml merge=ours
</code></pre><p>При вливании другой ветки, вместо конфликтов слияния для файла database.xml, вы увидите следующее:</p>
<pre><code>$ git merge topic
Auto-merging database.xml
Merge made by recursive.
</code></pre><p>В данном случае database.xml остался в том варианте, в каком и был изначально.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../nastroika_git/konfigurirovanie_git.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../nastroika_git/perehvatchiki_v_git.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
